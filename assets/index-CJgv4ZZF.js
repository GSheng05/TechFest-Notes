(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function RA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ud={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function IA(){if(Z_)return ll;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var W_;function CA(){return W_||(W_=1,ud.exports=IA()),ud.exports}var Tt=CA(),cd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function DA(){if(J_)return St;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,W={};function K(D,$,ot){this.props=D,this.context=$,this.refs=W,this.updater=ot||q}K.prototype.isReactComponent={},K.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},K.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function st(){}st.prototype=K.prototype;function ut(D,$,ot){this.props=D,this.context=$,this.refs=W,this.updater=ot||q}var ft=ut.prototype=new st;ft.constructor=ut,X(ft,K.prototype),ft.isPureReactComponent=!0;var Lt=Array.isArray,pt={H:null,A:null,T:null,S:null},Ct=Object.prototype.hasOwnProperty;function M(D,$,ot,tt,et,bt){return ot=bt.ref,{$$typeof:r,type:D,key:$,ref:ot!==void 0?ot:null,props:bt}}function w(D,$){return M(D.type,$,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return $[ot]})}var V=/\/+/g;function L(D,$){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):$.toString(36)}function R(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,$,ot,tt,et){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case A:return At=D._init,ce(At(D._payload),$,ot,tt,et)}}if(At)return et=et(D),At=tt===""?"."+L(D,0):tt,Lt(et)?(ot="",At!=null&&(ot=At.replace(V,"$&/")+"/"),ce(et,$,ot,"",function(ne){return ne})):et!=null&&(S(et)&&(et=w(et,ot+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+At)),$.push(et)),1;At=0;var he=tt===""?".":tt+":";if(Lt(D))for(var xt=0;xt<D.length;xt++)tt=D[xt],bt=he+L(tt,xt),At+=ce(tt,$,ot,bt,et);else if(xt=P(D),typeof xt=="function")for(D=xt.call(D),xt=0;!(tt=D.next()).done;)tt=tt.value,bt=he+L(tt,xt++),At+=ce(tt,$,ot,bt,et);else if(bt==="object"){if(typeof D.then=="function")return ce(_e(D),$,ot,tt,et);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return At}function J(D,$,ot){if(D==null)return D;var tt=[],et=0;return ce(D,tt,"","",function(bt){return $.call(ot,bt,et++)}),tt}function mt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return St.Children={map:J,forEach:function(D,$,ot){J(D,function(){$.apply(this,arguments)},ot)},count:function(D){var $=0;return J(D,function(){$++}),$},toArray:function(D){return J(D,function($){return $})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=K,St.Fragment=n,St.Profiler=l,St.PureComponent=ut,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,$,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=X({},D.props),et=D.key,bt=void 0;if($!=null)for(At in $.ref!==void 0&&(bt=void 0),$.key!==void 0&&(et=""+$.key),$)!Ct.call($,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&$.ref===void 0||(tt[At]=$[At]);var At=arguments.length-2;if(At===1)tt.children=ot;else if(1<At){for(var he=Array(At),xt=0;xt<At;xt++)he[xt]=arguments[xt+2];tt.children=he}return M(D.type,et,void 0,void 0,bt,tt)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,$,ot){var tt,et={},bt=null;if($!=null)for(tt in $.key!==void 0&&(bt=""+$.key),$)Ct.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=$[tt]);var At=arguments.length-2;if(At===1)et.children=ot;else if(1<At){for(var he=Array(At),xt=0;xt<At;xt++)he[xt]=arguments[xt+2];et.children=he}if(D&&D.defaultProps)for(tt in At=D.defaultProps,At)et[tt]===void 0&&(et[tt]=At[tt]);return M(D,bt,void 0,void 0,null,et)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=S,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:mt}},St.memo=function(D,$){return{$$typeof:v,type:D,compare:$===void 0?null:$}},St.startTransition=function(D){var $=pt.T,ot={};pt.T=ot;try{var tt=D(),et=pt.S;et!==null&&et(ot,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(jt,ct)}catch(bt){ct(bt)}finally{pt.T=$}},St.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},St.use=function(D){return pt.H.use(D)},St.useActionState=function(D,$,ot){return pt.H.useActionState(D,$,ot)},St.useCallback=function(D,$){return pt.H.useCallback(D,$)},St.useContext=function(D){return pt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,$){return pt.H.useDeferredValue(D,$)},St.useEffect=function(D,$){return pt.H.useEffect(D,$)},St.useId=function(){return pt.H.useId()},St.useImperativeHandle=function(D,$,ot){return pt.H.useImperativeHandle(D,$,ot)},St.useInsertionEffect=function(D,$){return pt.H.useInsertionEffect(D,$)},St.useLayoutEffect=function(D,$){return pt.H.useLayoutEffect(D,$)},St.useMemo=function(D,$){return pt.H.useMemo(D,$)},St.useOptimistic=function(D,$){return pt.H.useOptimistic(D,$)},St.useReducer=function(D,$,ot){return pt.H.useReducer(D,$,ot)},St.useRef=function(D){return pt.H.useRef(D)},St.useState=function(D){return pt.H.useState(D)},St.useSyncExternalStore=function(D,$,ot){return pt.H.useSyncExternalStore(D,$,ot)},St.useTransition=function(){return pt.H.useTransition()},St.version="19.0.0",St}var ty;function Jd(){return ty||(ty=1,cd.exports=DA()),cd.exports}var en=Jd();const Ns=RA(en);var hd={exports:{}},ul={},fd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function OA(){return ey||(ey=1,function(r){function t(J,mt){var ct=J.length;J.push(mt);t:for(;0<ct;){var jt=ct-1>>>1,D=J[jt];if(0<l(D,mt))J[jt]=mt,J[ct]=D,ct=jt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var mt=J[0],ct=J.pop();if(ct!==mt){J[0]=ct;t:for(var jt=0,D=J.length,$=D>>>1;jt<$;){var ot=2*(jt+1)-1,tt=J[ot],et=ot+1,bt=J[et];if(0>l(tt,ct))et<D&&0>l(bt,tt)?(J[jt]=bt,J[et]=ct,jt=et):(J[jt]=tt,J[ot]=ct,jt=ot);else if(et<D&&0>l(bt,ct))J[jt]=bt,J[et]=ct,jt=et;else break t}}return mt}function l(J,mt){var ct=J.sortIndex-mt.sortIndex;return ct!==0?ct:J.id-mt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,I=null,P=3,q=!1,X=!1,W=!1,K=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function ft(J){for(var mt=n(v);mt!==null;){if(mt.callback===null)s(v);else if(mt.startTime<=J)s(v),mt.sortIndex=mt.expirationTime,t(p,mt);else break;mt=n(v)}}function Lt(J){if(W=!1,ft(J),!X)if(n(p)!==null)X=!0,_e();else{var mt=n(v);mt!==null&&ce(Lt,mt.startTime-J)}}var pt=!1,Ct=-1,M=5,w=-1;function S(){return!(r.unstable_now()-w<M)}function C(){if(pt){var J=r.unstable_now();w=J;var mt=!0;try{t:{X=!1,W&&(W=!1,st(Ct),Ct=-1),q=!0;var ct=P;try{e:{for(ft(J),I=n(p);I!==null&&!(I.expirationTime>J&&S());){var jt=I.callback;if(typeof jt=="function"){I.callback=null,P=I.priorityLevel;var D=jt(I.expirationTime<=J);if(J=r.unstable_now(),typeof D=="function"){I.callback=D,ft(J),mt=!0;break e}I===n(p)&&s(p),ft(J)}else s(p);I=n(p)}if(I!==null)mt=!0;else{var $=n(v);$!==null&&ce(Lt,$.startTime-J),mt=!1}}break t}finally{I=null,P=ct,q=!1}mt=void 0}}finally{mt?V():pt=!1}}}var V;if(typeof ut=="function")V=function(){ut(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=C,V=function(){R.postMessage(null)}}else V=function(){K(C,0)};function _e(){pt||(pt=!0,V())}function ce(J,mt){Ct=K(function(){J(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){X||q||(X=!0,_e())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(J){switch(P){case 1:case 2:case 3:var mt=3;break;default:mt=P}var ct=P;P=mt;try{return J()}finally{P=ct}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,mt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ct=P;P=J;try{return mt()}finally{P=ct}},r.unstable_scheduleCallback=function(J,mt,ct){var jt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?jt+ct:jt):ct=jt,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,J={id:A++,callback:mt,priorityLevel:J,startTime:ct,expirationTime:D,sortIndex:-1},ct>jt?(J.sortIndex=ct,t(v,J),n(p)===null&&J===n(v)&&(W?(st(Ct),Ct=-1):W=!0,ce(Lt,ct-jt))):(J.sortIndex=D,t(p,J),X||q||(X=!0,_e())),J},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(J){var mt=P;return function(){var ct=P;P=mt;try{return J.apply(this,arguments)}finally{P=ct}}}}(dd)),dd}var ny;function NA(){return ny||(ny=1,fd.exports=OA()),fd.exports}var md={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function VA(){if(iy)return Ge;iy=1;var r=Jd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},Ge.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:P,fetchPriority:q}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:P,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},Ge.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,v){return p(v)},Ge.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var ry;function MA(){if(ry)return md.exports;ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=VA(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function UA(){if(sy)return ul;sy=1;var r=NA(),t=Jd(),n=MA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),q=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),ft=Symbol.for("react.offscreen"),Lt=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function Ct(e){return e===null||typeof e!="object"?null:(e=pt&&e[pt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case X:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case st:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case ut:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,L;function R(e){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+L}var _e=!1;function ce(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===N.length)for(o=b.length-1,h=N.length-1;1<=o&&0<=h&&b[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==N[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function mt(e){try{var i="";do i+=J(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function jt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(ct(e)!==e)throw Error(s(188))}function $(e){var i=e.alternate;if(!i){if(i=ct(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return D(h),e;if(f===o)return D(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ot(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],he=-1;function xt(e){return{current:e}}function ne(e){0>he||(e.current=At[he],At[he]=null,he--)}function Ft(e,i){he++,At[he]=e.current,e.current=i}var Xe=xt(null),fi=xt(null),_n=xt(null),Yi=xt(null);function Xi(e,i){switch(Ft(_n,i),Ft(fi,e),Ft(Xe,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?R_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=R_(e),i=I_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Xe),Ft(Xe,i)}function di(){ne(Xe),ne(fi),ne(_n)}function no(e){e.memoizedState!==null&&Ft(Yi,e);var i=Xe.current,a=I_(i,e.type);i!==a&&(Ft(fi,e),Ft(Xe,a))}function qs(e){fi.current===e&&(ne(Xe),ne(fi)),Yi.current===e&&(ne(Yi),il._currentValue=bt)}var js=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Hs=r.unstable_cancelCallback,ch=r.unstable_shouldYield,io=r.unstable_requestPaint,nn=r.unstable_now,xl=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,zl=r.unstable_LowPriority,ro=r.unstable_IdlePriority,hh=r.log,Zr=r.unstable_setDisableYieldValue,$i=null,je=null;function so(e){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Gn(e){if(typeof hh=="function"&&Zr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode($i,e)}catch{}}var $e=Math.clz32?Math.clz32:ql,ao=Math.log,Bl=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(ao(e)/Bl|0)|0}var Fn=128,Zi=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Un(a):(f&=E,f!==0?o=Un(f):e||(y=E&~y,y!==0&&(o=Un(y))))):(E=a&~h,E!==0?o=Un(E):f!==0?o=Un(f):e||(y=a&~y,y!==0&&(o=Un(y)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,y=i&-i,h>=y||h===32&&(y&4194176)!==0)?i:o}function Wi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Fn;return Fn<<=1,(Fn&4194176)===0&&(Fn=128),e}function Ji(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Fs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jl(e,i,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-$e(a),Y=1<<H;E[H]=0,b[H]=-1;var z=N[H];if(z!==null)for(N[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}a&=~Y}o!==0&&tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-$e(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function er(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-$e(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Hl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function nr(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Kn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Kn,ve="__reactProps$"+Kn,gi="__reactContainer$"+Kn,Wr="__reactEvents$"+Kn,Ks="__reactListeners$"+Kn,Qn="__reactHandles$"+Kn,lo="__reactResources$"+Kn,ir="__reactMarker$"+Kn;function Jr(e){delete e[Ie],delete e[ve],delete e[Wr],delete e[Ks],delete e[Qn]}function Pn(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[gi]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=O_(e);e!==null;){if(a=e[Ie])return a;e=O_(e)}return i}e=a,a=e.parentNode}return null}function pi(e){if(e=e[Ie]||e[gi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function rr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function sr(e){var i=e[lo];return i||(i=e[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(e){e[ir]=!0}var uo=new Set,Qs={};function un(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Qs[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Fl(e){return js.call(ho,e)?!0:js.call(co,e)?!1:fh.test(e)?ho[e]=!0:(co[e]=!0,!1)}function ar(e,i,a){if(Fl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function or(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function vn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dh(e){var i=Kl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ts(e){e._valueTracker||(e._valueTracker=dh(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Kl(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function ie(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lr(e,i,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Xs(e,y,Ze(i)):a!=null?Xs(e,y,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function es(e,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Xs(e,i,a){i==="number"&&Ys(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ns(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function ur(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||mh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ql(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&mo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&mo(e,f,i[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function $s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,vi=null;function Ei(e){var i=pi(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(s(90));lr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&fo(o)}break t;case"textarea":ns(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var po=!1;function Yl(e,i,a){if(po)return e(i,a);po=!0;try{var o=e(i);return o}finally{if(po=!1,(yi!==null||vi!==null)&&(zu(),yi&&(i=yi,e=vi,vi=yi=null,Ei(i),e)))for(i=0;i<e.length;i++)Ei(e[i])}}function is(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(cn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){An=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{An=!1}var Xn=null,cr=null,Ti=null;function _o(){if(Ti)return Ti;var e,i=cr,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return Ti=h.slice(e,1<o?1-o:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function yo(){return!1}function Ce(e){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:yo,this.isPropagationStopped=yo,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Ce(Ht),ss=C({},Ht,{view:0,detail:0}),Xl=Ce(ss),Ws,Js,Wn,as=C({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Ws=e.screenX-Wn.screenX,Js=e.screenY-Wn.screenY):Js=Ws=0,Wn=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Sn=Ce(as),$l=C({},as,{dataTransfer:0}),_h=Ce($l),os=C({},ss,{relatedTarget:0}),ta=Ce(os),vo=C({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Ce(vo),Zl=C({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=Ce(Zl),yh=C({},Ht,{data:0}),Eo=Ce(yh),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Jl[e])?!!i[e]:!1}function us(){return To}var tu=C({},ss,{key:function(e){if(e.key){var i=ls[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=Ce(tu),eu=C({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(eu),Ai=C({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),nu=Ce(Ai),iu=C({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Ce(iu),su=C({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Ce(su),We=C({},Ht,{newState:0,oldState:0}),au=Ce(We),ou=[9,13,27,32],Jn=cn&&"CompositionEvent"in window,u=null;cn&&"documentMode"in document&&(u=document.documentMode);var m=cn&&"TextEvent"in window&&!u,_=cn&&(!Jn||u&&8<u&&11>=u),T=" ",k=!1;function B(e,i){switch(e){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ee(e,i){switch(e){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function Ut(e,i){if(Mt)return e==="compositionend"||!Jn&&B(e,i)?(e=_o(),Ti=cr=Xn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Si(e,i,a,o){yi?vi?vi.push(o):vi=[o]:yi=o,i=Gu(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Pe=null,ti=null;function So(e){T_(e,0)}function lu(e){var i=rr(e);if(fo(i))return e}function $m(e,i){if(e==="change")return i}var Zm=!1;if(cn){var vh;if(cn){var Eh="oninput"in document;if(!Eh){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Eh=typeof Wm.oninput=="function"}vh=Eh}else vh=!1;Zm=vh&&(!document.documentMode||9<document.documentMode)}function Jm(){Pe&&(Pe.detachEvent("onpropertychange",tg),ti=Pe=null)}function tg(e){if(e.propertyName==="value"&&lu(ti)){var i=[];Si(i,ti,e,$s(e)),Yl(So,i)}}function nT(e,i,a){e==="focusin"?(Jm(),Pe=i,ti=a,Pe.attachEvent("onpropertychange",tg)):e==="focusout"&&Jm()}function iT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(ti)}function rT(e,i){if(e==="click")return lu(i)}function sT(e,i){if(e==="input"||e==="change")return lu(i)}function aT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:aT;function bo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!js.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,i){var a=eg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=eg(a)}}function ig(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ig(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ys(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ys(e.document)}return i}function Th(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function oT(e,i){var a=rg(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&ig(i.ownerDocument.documentElement,i)){if(o!==null&&Th(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=ng(i,f);var y=ng(i,o);h&&y&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var lT=cn&&"documentMode"in document&&11>=document.documentMode,sa=null,Ah=null,wo=null,Sh=!1;function sg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sh||sa==null||sa!==Ys(o)||(o=sa,"selectionStart"in o&&Th(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&bo(wo,o)||(wo=o,o=Gu(Ah,"onSelect"),0<o.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=sa)))}function cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var aa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},bh={},ag={};cn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function hs(e){if(bh[e])return bh[e];if(!aa[e])return e;var i=aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return bh[e]=i[a];return e}var og=hs("animationend"),lg=hs("animationiteration"),ug=hs("animationstart"),uT=hs("transitionrun"),cT=hs("transitionstart"),hT=hs("transitioncancel"),cg=hs("transitionend"),hg=new Map,fg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(e,i){hg.set(e,i),un(i,[e])}var bn=[],oa=0,wh=0;function uu(){for(var e=oa,i=wh=oa=0;i<e;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var f=bn[i];if(bn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&dg(a,h,f)}}function cu(e,i,a,o){bn[oa++]=e,bn[oa++]=i,bn[oa++]=a,bn[oa++]=o,wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Rh(e,i,a,o){return cu(e,i,a,o),hu(e)}function hr(e,i){return cu(e,null,null,i),hu(e)}function dg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&i!==null&&e.tag===3&&(f=e.stateNode,h=31-$e(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[i]:e.push(i),i.lane=a|536870912)}function hu(e){if(50<$o)throw $o=0,Mf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={},mg=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:mt(i)},mg.set(e,i),i)}return{value:e,source:i,stack:mt(i)}}var ua=[],ca=0,fu=null,du=0,Rn=[],In=0,fs=null,bi=1,wi="";function ds(e,i){ua[ca++]=du,ua[ca++]=fu,fu=e,du=i}function gg(e,i,a){Rn[In++]=bi,Rn[In++]=wi,Rn[In++]=fs,fs=e;var o=bi;e=wi;var h=32-$e(o)-1;o&=~(1<<h),a+=1;var f=32-$e(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,bi=1<<32-$e(i)+h|a<<h|o,wi=f+e}else bi=1<<f|a<<h|o,wi=e}function Ih(e){e.return!==null&&(ds(e,1),gg(e,1,0))}function Ch(e){for(;e===fu;)fu=ua[--ca],ua[ca]=null,du=ua[--ca],ua[ca]=null;for(;e===fs;)fs=Rn[--In],Rn[In]=null,wi=Rn[--In],Rn[In]=null,bi=Rn[--In],Rn[In]=null}var Je=null,ke=null,Bt=!1,Ln=null,ei=!1,Dh=Error(s(519));function ms(e){var i=Error(s(418,""));throw Co(wn(i,e)),Dh}function pg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[ve]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Nt(Wo[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),es(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ts(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),ur(i,o.value,o.defaultValue,o.children),ts(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||w_(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=Fu),i=!0):i=!1,i||ms(e)}function _g(e){for(Je=e.return;Je;)switch(Je.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:Je=Je.return}}function Ro(e){if(e!==Je)return!1;if(!Bt)return _g(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$f(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ke&&ms(e),_g(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ke=zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ke=null}}else ke=Je?zn(e.stateNode.nextSibling):null;return!0}function Io(){ke=Je=null,Bt=!1}function Co(e){Ln===null?Ln=[e]:Ln.push(e)}var Do=Error(s(460)),yg=Error(s(474)),Oh={then:function(){}};function vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function Eg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(mu,mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e;default:if(typeof i.status=="string")i.then(mu,mu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e}throw Oo=i,Do}}var Oo=null;function Tg(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}var ha=null,No=0;function gu(e){var i=No;return No+=1,ha===null&&(ha=[]),Eg(ha,e,i)}function Vo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function pu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ag(e){var i=e._init;return i(e._payload)}function Sg(e){function i(U,O){if(e){var x=U.deletions;x===null?(U.deletions=[O],U.flags|=16):x.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Sr(U,O),U.index=0,U.sibling=null,U}function f(U,O,x){return U.index=x,e?(x=U.alternate,x!==null?(x=x.index,x<O?(U.flags|=33554434,O):x):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,O,x,G){return O===null||O.tag!==6?(O=wf(x,U.mode,G),O.return=U,O):(O=h(O,x),O.return=U,O)}function b(U,O,x,G){var it=x.type;return it===p?H(U,O,x.props.children,G,x.key):O!==null&&(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ut&&Ag(it)===O.type)?(O=h(O,x.props),Vo(O,x),O.return=U,O):(O=Uu(x.type,x.key,x.props,null,U.mode,G),Vo(O,x),O.return=U,O)}function N(U,O,x,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==x.containerInfo||O.stateNode.implementation!==x.implementation?(O=Rf(x,U.mode,G),O.return=U,O):(O=h(O,x.children||[]),O.return=U,O)}function H(U,O,x,G,it){return O===null||O.tag!==7?(O=bs(x,U.mode,G,it),O.return=U,O):(O=h(O,x),O.return=U,O)}function Y(U,O,x){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=wf(""+O,U.mode,x),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return x=Uu(O.type,O.key,O.props,null,U.mode,x),Vo(x,O),x.return=U,x;case g:return O=Rf(O,U.mode,x),O.return=U,O;case ut:var G=O._init;return O=G(O._payload),Y(U,O,x)}if(tt(O)||Ct(O))return O=bs(O,U.mode,x,null),O.return=U,O;if(typeof O.then=="function")return Y(U,gu(O),x);if(O.$$typeof===q)return Y(U,Nu(U,O),x);pu(U,O)}return null}function z(U,O,x,G){var it=O!==null?O.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return it!==null?null:E(U,O,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case d:return x.key===it?b(U,O,x,G):null;case g:return x.key===it?N(U,O,x,G):null;case ut:return it=x._init,x=it(x._payload),z(U,O,x,G)}if(tt(x)||Ct(x))return it!==null?null:H(U,O,x,G,null);if(typeof x.then=="function")return z(U,O,gu(x),G);if(x.$$typeof===q)return z(U,O,Nu(U,x),G);pu(U,x)}return null}function j(U,O,x,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(x)||null,E(O,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?x:G.key)||null,b(O,U,G,it);case g:return U=U.get(G.key===null?x:G.key)||null,N(O,U,G,it);case ut:var Rt=G._init;return G=Rt(G._payload),j(U,O,x,G,it)}if(tt(G)||Ct(G))return U=U.get(x)||null,H(O,U,G,it,null);if(typeof G.then=="function")return j(U,O,x,gu(G),it);if(G.$$typeof===q)return j(U,O,x,Nu(O,G),it);pu(O,G)}return null}function at(U,O,x,G){for(var it=null,Rt=null,lt=O,dt=O=0,Ve=null;lt!==null&&dt<x.length;dt++){lt.index>dt?(Ve=lt,lt=null):Ve=lt.sibling;var qt=z(U,lt,x[dt],G);if(qt===null){lt===null&&(lt=Ve);break}e&&lt&&qt.alternate===null&&i(U,lt),O=f(qt,O,dt),Rt===null?it=qt:Rt.sibling=qt,Rt=qt,lt=Ve}if(dt===x.length)return a(U,lt),Bt&&ds(U,dt),it;if(lt===null){for(;dt<x.length;dt++)lt=Y(U,x[dt],G),lt!==null&&(O=f(lt,O,dt),Rt===null?it=lt:Rt.sibling=lt,Rt=lt);return Bt&&ds(U,dt),it}for(lt=o(lt);dt<x.length;dt++)Ve=j(lt,U,dt,x[dt],G),Ve!==null&&(e&&Ve.alternate!==null&&lt.delete(Ve.key===null?dt:Ve.key),O=f(Ve,O,dt),Rt===null?it=Ve:Rt.sibling=Ve,Rt=Ve);return e&&lt.forEach(function(Or){return i(U,Or)}),Bt&&ds(U,dt),it}function vt(U,O,x,G){if(x==null)throw Error(s(151));for(var it=null,Rt=null,lt=O,dt=O=0,Ve=null,qt=x.next();lt!==null&&!qt.done;dt++,qt=x.next()){lt.index>dt?(Ve=lt,lt=null):Ve=lt.sibling;var Or=z(U,lt,qt.value,G);if(Or===null){lt===null&&(lt=Ve);break}e&&lt&&Or.alternate===null&&i(U,lt),O=f(Or,O,dt),Rt===null?it=Or:Rt.sibling=Or,Rt=Or,lt=Ve}if(qt.done)return a(U,lt),Bt&&ds(U,dt),it;if(lt===null){for(;!qt.done;dt++,qt=x.next())qt=Y(U,qt.value,G),qt!==null&&(O=f(qt,O,dt),Rt===null?it=qt:Rt.sibling=qt,Rt=qt);return Bt&&ds(U,dt),it}for(lt=o(lt);!qt.done;dt++,qt=x.next())qt=j(lt,U,dt,qt.value,G),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?dt:qt.key),O=f(qt,O,dt),Rt===null?it=qt:Rt.sibling=qt,Rt=qt);return e&&lt.forEach(function(wA){return i(U,wA)}),Bt&&ds(U,dt),it}function ae(U,O,x,G){if(typeof x=="object"&&x!==null&&x.type===p&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case d:t:{for(var it=x.key;O!==null;){if(O.key===it){if(it=x.type,it===p){if(O.tag===7){a(U,O.sibling),G=h(O,x.props.children),G.return=U,U=G;break t}}else if(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ut&&Ag(it)===O.type){a(U,O.sibling),G=h(O,x.props),Vo(G,x),G.return=U,U=G;break t}a(U,O);break}else i(U,O);O=O.sibling}x.type===p?(G=bs(x.props.children,U.mode,G,x.key),G.return=U,U=G):(G=Uu(x.type,x.key,x.props,null,U.mode,G),Vo(G,x),G.return=U,U=G)}return y(U);case g:t:{for(it=x.key;O!==null;){if(O.key===it)if(O.tag===4&&O.stateNode.containerInfo===x.containerInfo&&O.stateNode.implementation===x.implementation){a(U,O.sibling),G=h(O,x.children||[]),G.return=U,U=G;break t}else{a(U,O);break}else i(U,O);O=O.sibling}G=Rf(x,U.mode,G),G.return=U,U=G}return y(U);case ut:return it=x._init,x=it(x._payload),ae(U,O,x,G)}if(tt(x))return at(U,O,x,G);if(Ct(x)){if(it=Ct(x),typeof it!="function")throw Error(s(150));return x=it.call(x),vt(U,O,x,G)}if(typeof x.then=="function")return ae(U,O,gu(x),G);if(x.$$typeof===q)return ae(U,O,Nu(U,x),G);pu(U,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,O!==null&&O.tag===6?(a(U,O.sibling),G=h(O,x),G.return=U,U=G):(a(U,O),G=wf(x,U.mode,G),G.return=U,U=G),y(U)):a(U,O)}return function(U,O,x,G){try{No=0;var it=ae(U,O,x,G);return ha=null,it}catch(lt){if(lt===Do)throw lt;var Rt=Nn(29,lt,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var gs=Sg(!0),bg=Sg(!1),fa=xt(null),_u=xt(0);function wg(e,i){e=ki,Ft(_u,e),Ft(fa,i),ki=e|i.baseLanes}function Nh(){Ft(_u,ki),Ft(fa,fa.current)}function Vh(){ki=_u.current,ne(fa),ne(_u)}var Cn=xt(null),ni=null;function fr(e){var i=e.alternate;Ft(Ae,Ae.current&1),Ft(Cn,e),ni===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(ni=e)}function Rg(e){if(e.tag===22){if(Ft(Ae,Ae.current),Ft(Cn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else dr()}function dr(){Ft(Ae,Ae.current),Ft(Cn,Cn.current)}function Ri(e){ne(Cn),ni===e&&(ni=null),ne(Ae)}var Ae=xt(0);function yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},dT=r.unstable_scheduleCallback,mT=r.unstable_NormalPriority,Se={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new fT,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&dT(mT,function(){e.controller.abort()})}var Uo=null,Uh=0,da=0,ma=null;function gT(e,i){if(Uo===null){var a=Uo=[];Uh=0,da=qf(),ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uh++,i.then(Ig,Ig),i}function Ig(){if(--Uh===0&&Uo!==null){ma!==null&&(ma.status="fulfilled");var e=Uo;Uo=null,da=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function pT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Cg=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&gT(e,i),Cg!==null&&Cg(e,i)};var ps=xt(null);function Ph(){var e=ps.current;return e!==null?e:Xt.pooledCache}function vu(e,i){i===null?Ft(ps,ps.current):Ft(ps,i.pool)}function Dg(){var e=Ph();return e===null?null:{parent:Se._currentValue,pool:e}}var mr=0,wt=null,Kt=null,fe=null,Eu=!1,ga=!1,_s=!1,Tu=0,Po=0,pa=null,_T=0;function le(){throw Error(s(321))}function kh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Lh(e,i,a,o,h,f){return mr=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?ys:gr,_s=!1,f=a(o,h),_s=!1,ga&&(f=Ng(i,a,o,h)),Og(e),f}function Og(e){S.H=ii;var i=Kt!==null&&Kt.next!==null;if(mr=0,fe=Kt=wt=null,Eu=!1,Po=0,pa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Ou(e)&&(Oe=!0))}function Ng(e,i,a,o){wt=e;var h=0;do{if(ga&&(pa=null),Po=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,fe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=vs,f=i(a,o)}while(ga);return f}function yT(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?ko(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),i}function xh(){var e=Tu!==0;return Tu=0,e}function zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Bh(e){if(Eu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Eu=!1}mr=0,fe=Kt=wt=null,ga=!1,Po=Tu=0,pa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=fe===null?wt.memoizedState:fe.next;if(i!==null)fe=i,Kt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},fe===null?wt.memoizedState=fe=e:fe=fe.next=e}return fe}var Au;Au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ko(e){var i=Po;return Po+=1,pa===null&&(pa=[]),e=Eg(pa,e,i),i=wt,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ys:gr),e}function Su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===q)return He(e)}throw Error(s(438,String(e)))}function qh(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Au(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=Lt;return i.index++,a}function Ii(e,i){return typeof i=="function"?i(e):i}function bu(e){var i=de();return jh(i,Kt,e)}function jh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=y=null,b=null,N=i,H=!1;do{var Y=N.lane&-536870913;if(Y!==N.lane?(Pt&Y)===Y:(mr&Y)===Y){var z=N.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Y===da&&(H=!0);else if((mr&z)===z){N=N.next,z===da&&(H=!0);continue}else Y={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,wt.lanes|=z,br|=z;Y=N.action,_s&&a(f,Y),f=N.hasEagerState?N.eagerState:a(f,Y)}else z={lane:Y,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=z,y=f):b=b.next=z,wt.lanes|=Y,br|=Y;N=N.next}while(N!==null&&N!==i);if(b===null?y=f:b.next=E,!hn(f,e.memoizedState)&&(Oe=!0,H&&(a=ma,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Hh(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);hn(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Vg(e,i,a){var o=wt,h=de(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!hn((Kt||h).memoizedState,a);if(y&&(h.memoizedState=a,Oe=!0),h=h.queue,Kh(Pg.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,_a(9,Ug.bind(null,o,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(mr&60)!==0||Mg(o,i,a)}return a}function Mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Au(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ug(e,i,a,o){i.value=a,i.getSnapshot=o,kg(i)&&Lg(e)}function Pg(e,i,a){return a(function(){kg(i)&&Lg(e)})}function kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Lg(e){var i=hr(e,2);i!==null&&tn(i,e,2)}function Gh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),_s){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},i}function xg(e,i,a,o){return e.baseState=a,jh(e,Kt,typeof o=="function"?o:Ii)}function vT(e,i,a,o,h){if(Iu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,zg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=S.T,y={};S.T=y;try{var E=a(h,o),b=S.S;b!==null&&b(y,E),Bg(e,i,E)}catch(N){Fh(e,i,N)}finally{S.T=f}}else try{f=a(h,o),Bg(e,i,f)}catch(N){Fh(e,i,N)}}function Bg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(e,i,o)},function(o){return Fh(e,i,o)}):qg(e,i,a)}function qg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zg(e,a)))}function Fh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function Gg(e,i){if(Bt){var a=Xt.formState;if(a!==null){t:{var o=wt;if(Bt){if(ke){e:{for(var h=ke,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=zn(h.nextSibling),o=h.data==="F!";break t}}ms(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=o,a=lp.bind(null,wt,o),o.dispatch=a,o=Gh(!1),f=Zh.bind(null,wt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=vT.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Fg(e){var i=de();return Kg(i,Kt,e)}function Kg(e,i,a){i=jh(e,i,Hg)[0],e=bu(Ii)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ko(i):i;var o=de(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(wt.flags|=2048,_a(9,ET.bind(null,h,a),{destroy:void 0},null)),[i,f,e]}function ET(e,i){e.action=i}function Qg(e){var i=de(),a=Kt;if(a!==null)return Kg(i,a,e);de(),i=i.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function _a(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=wt.updateQueue,i===null&&(i=Au(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Yg(){return de().memoizedState}function wu(e,i,a,o){var h=sn();wt.flags|=e,h.memoizedState=_a(1|i,a,{destroy:void 0},o===void 0?null:o)}function Ru(e,i,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&kh(o,Kt.memoizedState.deps)?h.memoizedState=_a(i,a,f,o):(wt.flags|=e,h.memoizedState=_a(1|i,a,f,o))}function Xg(e,i){wu(8390656,8,e,i)}function Kh(e,i){Ru(2048,8,e,i)}function $g(e,i){return Ru(4,2,e,i)}function Zg(e,i){return Ru(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,Ru(4,4,Wg.bind(null,i,e),a)}function Qh(){}function tp(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&kh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function ep(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&kh(i,o[1]))return o[0];if(o=e(),_s){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[o,i],o}function Yh(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=i_(),wt.lanes|=e,br|=e,a)}function np(e,i,a,o){return hn(a,i)?a:fa.current!==null?(e=Yh(e,a,o),hn(e,i)||(Oe=!0),e):(mr&42)===0?(Oe=!0,e.memoizedState=a):(e=i_(),wt.lanes|=e,br|=e,i)}function ip(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,Zh(e,!1,i,a);try{var b=h(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=pT(b,o);Lo(e,i,H,gn(e))}else Lo(e,i,o,gn(e))}catch(Y){Lo(e,i,{then:function(){},status:"rejected",reason:Y},gn())}finally{et.p=f,S.T=y}}function TT(){}function Xh(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=rp(e).queue;ip(e,h,i,bt,a===null?TT:function(){return sp(e),a(o)})}function rp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:bt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sp(e){var i=rp(e).next.queue;Lo(e,i,{},gn())}function $h(){return He(il)}function ap(){return de().memoizedState}function op(){return de().memoizedState}function AT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=yr(a);var o=vr(i,e,a);o!==null&&(tn(o,i,a),Bo(o,i,a)),i={cache:Mh()},e.payload=i;return}i=i.return}}function ST(e,i,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(e)?up(i,a):(a=Rh(e,i,a,o),a!==null&&(tn(a,e,o),cp(a,i,o)))}function lp(e,i,a){var o=gn();Lo(e,i,a,o)}function Lo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))up(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,y))return cu(e,i,h,0),Xt===null&&uu(),!1}catch{}finally{}if(a=Rh(e,i,h,o),a!==null)return tn(a,e,o),cp(a,i,o),!0}return!1}function Zh(e,i,a,o){if(o={lane:2,revertLane:qf(),action:o,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(i)throw Error(s(479))}else i=Rh(e,a,o,2),i!==null&&tn(i,e,2)}function Iu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function up(e,i){ga=Eu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function cp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,er(e,a)}}var ii={readContext:He,use:Su,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ii.useCacheRefresh=le,ii.useMemoCache=le,ii.useHostTransitionStatus=le,ii.useFormState=le,ii.useActionState=le,ii.useOptimistic=le;var ys={readContext:He,use:Su,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Xg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,wu(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return wu(4194308,4,e,i)},useInsertionEffect:function(e,i){wu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(_s){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(_s){Gn(!0);try{a(i)}finally{Gn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ST.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Gh(e);var i=e.queue,a=lp.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Qh,useDeferredValue:function(e,i){var a=sn();return Yh(a,e,i)},useTransition:function(){var e=Gh(!1);return e=ip.bind(null,wt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(Pt&60)!==0||Mg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Xg(Pg.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,Ug.bind(null,o,f,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Xt.identifierPrefix;if(Bt){var a=wi,o=bi;a=(o&~(1<<32-$e(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Tu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=_T++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=AT.bind(null,wt)}};ys.useMemoCache=qh,ys.useHostTransitionStatus=$h,ys.useFormState=Gg,ys.useActionState=Gg,ys.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zh.bind(null,wt,!0,a),a.dispatch=i,[e,i]};var gr={readContext:He,use:Su,useCallback:tp,useContext:He,useEffect:Kh,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Zg,useMemo:ep,useReducer:bu,useRef:Yg,useState:function(){return bu(Ii)},useDebugValue:Qh,useDeferredValue:function(e,i){var a=de();return np(a,Kt.memoizedState,e,i)},useTransition:function(){var e=bu(Ii)[0],i=de().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:ap};gr.useCacheRefresh=op,gr.useMemoCache=qh,gr.useHostTransitionStatus=$h,gr.useFormState=Fg,gr.useActionState=Fg,gr.useOptimistic=function(e,i){var a=de();return xg(a,Kt,e,i)};var vs={readContext:He,use:Su,useCallback:tp,useContext:He,useEffect:Kh,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Zg,useMemo:ep,useReducer:Hh,useRef:Yg,useState:function(){return Hh(Ii)},useDebugValue:Qh,useDeferredValue:function(e,i){var a=de();return Kt===null?Yh(a,e,i):np(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Hh(Ii)[0],i=de().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:ap};vs.useCacheRefresh=op,vs.useMemoCache=qh,vs.useHostTransitionStatus=$h,vs.useFormState=Qg,vs.useActionState=Qg,vs.useOptimistic=function(e,i){var a=de();return Kt!==null?xg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Wh(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jh={isMounted:function(e){return(e=e._reactInternals)?ct(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=gn(),h=yr(o);h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(tn(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=gn(),h=yr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(tn(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),o=yr(a);o.tag=2,i!=null&&(o.callback=i),i=vr(e,o,a),i!==null&&(tn(i,e,a),Bo(i,e,a))}};function hp(e,i,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!bo(a,o)||!bo(h,f):!0}function fp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Jh.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dp(e){Cu(e)}function mp(e){console.error(e)}function gp(e){Cu(e)}function Du(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function pp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(e,i,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(e,i)},a}function _p(e){return e=yr(e),e.tag=3,e}function yp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){pp(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){pp(i,a,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function bT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&zo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?kf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Oh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),xf(e,o,h)),!1;case 22:return a.flags|=65536,o===Oh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),xf(e,o,h)),!1}throw Error(s(435,a.tag))}return xf(e,o,h),kf(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Dh&&(e=Error(s(422),{cause:o}),Co(wn(e,a)))):(o!==Dh&&(i=Error(s(423),{cause:o}),Co(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,a),h=tf(e.stateNode,o,h),pf(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,a),Yo===null?Yo=[f]:Yo.push(f),se!==4&&(se=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=tf(a.stateNode,o,e),pf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_p(h),yp(h,e,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var vp=Error(s(461)),Oe=!1;function Le(e,i,a,o){i.child=e===null?bg(i,null,a,o):gs(i,e.child,a,o)}function Ep(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return As(i),o=Lh(e,i,a,y,f,h),E=xh(),e!==null&&!Oe?(zh(e,i,h),Ci(e,i,h)):(Bt&&E&&Ih(i),i.flags|=1,Le(e,i,o,h),i.child)}function Tp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!bf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Ap(e,i,f,o,h)):(e=Uu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!cf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(y,o)&&e.ref===i.ref)return Ci(e,i,h)}return i.flags|=1,e=Sr(f,o),e.ref=i.ref,e.return=i,i.child=e}function Ap(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,cf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Ci(e,i,h)}return ef(e,i,a,o,h)}function Sp(e,i,a){var o=i.pendingProps,h=o.children,f=(i.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(xo(e,i),o.mode==="hidden"||f){if((i.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return bp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(i,y!==null?y.cachePool:null),y!==null?wg(i,y):Nh(),Rg(i);else return i.lanes=i.childLanes=536870912,bp(e,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(vu(i,y.cachePool),wg(i,y),dr(),i.memoizedState=null):(e!==null&&vu(i,null),Nh(),dr());return Le(e,i,h,a),i.child}function bp(e,i,a,o){var h=Ph();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&vu(i,null),Nh(),Rg(i),e!==null&&zo(e,i,o,!0),null}function xo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function ef(e,i,a,o,h){return As(i),a=Lh(e,i,a,o,void 0,h),o=xh(),e!==null&&!Oe?(zh(e,i,h),Ci(e,i,h)):(Bt&&o&&Ih(i),i.flags|=1,Le(e,i,a,h),i.child)}function wp(e,i,a,o,h,f){return As(i),i.updateQueue=null,a=Ng(i,o,a,h),Og(e),o=xh(),e!==null&&!Oe?(zh(e,i,f),Ci(e,i,f)):(Bt&&o&&Ih(i),i.flags|=1,Le(e,i,a,f),i.child)}function Rp(e,i,a,o,h){if(As(i),i.stateNode===null){var f=la,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jh,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},mf(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):la,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Wh(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Jh.enqueueReplaceState(f,f.state,null),jo(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=Es(a,E);f.props=b;var N=f.context,H=a.contextType;y=la,typeof H=="object"&&H!==null&&(y=He(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&fp(i,f,o,y),_r=!1;var z=i.memoizedState;f.state=z,jo(i,o,f,h),qo(),N=i.memoizedState,E||z!==N||_r?(typeof Y=="function"&&(Wh(i,a,Y,o),N=i.memoizedState),(b=_r||hp(i,a,b,o,z,N,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),f.props=o,f.state=N,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,gf(e,i),y=i.memoizedProps,H=Es(a,y),f.props=H,Y=i.pendingProps,z=f.context,N=a.contextType,b=la,typeof N=="object"&&N!==null&&(b=He(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==b)&&fp(i,f,o,b),_r=!1,z=i.memoizedState,f.state=z,jo(i,o,f,h),qo();var j=i.memoizedState;y!==Y||z!==j||_r||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Wh(i,a,E,o),j=i.memoizedState),(H=_r||hp(i,a,H,o,z,j,b)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,xo(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=gs(i,e.child,null,h),i.child=gs(i,null,a,h)):Le(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ci(e,i,h),e}function Ip(e,i,a,o){return Io(),i.flags|=256,Le(e,i,a,o),i.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(e){return{baseLanes:e,cachePool:Dg()}}function sf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Cp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?fr(i):dr(),Bt){var E=ke,b;if(b=E){t:{for(b=E,E=ei;b.nodeType!==8;){if(!E){E=null;break t}if(b=zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:fs!==null?{id:bi,overflow:wi}:null,retryLane:536870912},b=Nn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,Je=i,ke=null,b=!0):b=!1}b||ms(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ri(i)}return E=o.children,o=o.fallback,h?(dr(),h=i.mode,E=of({mode:"hidden",children:E},h),o=bs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=rf(a),h.childLanes=sf(e,y,a),i.memoizedState=nf,o):(fr(i),af(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(fr(i),i.flags&=-257,i=lf(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=o.fallback,E=i.mode,o=of({mode:"visible",children:o.children},E),h=bs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,gs(i,e.child,null,a),o=i.child,o.memoizedState=rf(a),o.childLanes=sf(e,y,a),i.memoizedState=nf,i=h);else if(fr(i),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,o=Error(s(419)),o.stack="",o.digest=y,Co({value:o,source:null,stack:null}),i=lf(e,i,a)}else if(Oe||zo(e,i,a,!1),y=(a&e.childLanes)!==0,Oe||y){if(y=Xt,y!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,hr(e,o),tn(y,e,o),vp}E.data==="$?"||kf(),i=lf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=zT.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,ke=zn(E.nextSibling),Je=i,Bt=!0,Ln=null,ei=!1,e!==null&&(Rn[In++]=bi,Rn[In++]=wi,Rn[In++]=fs,bi=e.id,wi=e.overflow,fs=i),i=af(i,o.children),i.flags|=4096);return i}return h?(dr(),h=o.fallback,E=i.mode,b=e.child,N=b.sibling,o=Sr(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=Sr(N,h):(h=bs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=rf(a):(b=E.cachePool,b!==null?(N=Se._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=Dg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=sf(e,y,a),i.memoizedState=nf,o):(fr(i),a=e.child,e=a.sibling,a=Sr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function af(e,i){return i=of({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function of(e,i){return t_(e,i,0,null)}function lf(e,i,a){return gs(i,e.child,null,a),e=af(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Dp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),ff(e.return,i,a)}function uf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Op(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Le(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,a,i);else if(e.tag===19)Dp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Ft(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),uf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}uf(i,!0,a,null,f);break;case"together":uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(zo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Sr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Sr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function cf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function wT(e,i,a){switch(i.tag){case 3:Xi(i,i.stateNode.containerInfo),pr(i,Se,e.memoizedState.cache),Io();break;case 27:case 5:no(i);break;case 4:Xi(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cp(e,i,a):(fr(i),e=Ci(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(zo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Op(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Sp(e,i,a);case 24:pr(i,Se,e.memoizedState.cache)}return Ci(e,i,a)}function Np(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!cf(e,a)&&(i.flags&128)===0)return Oe=!1,wT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&gg(i,du,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")bf(o)?(e=Es(o,e),i.tag=1,i=Rp(null,i,o,e,a)):(i.tag=0,i=ef(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===X){i.tag=11,i=Ep(null,i,o,e,a);break t}else if(h===st){i.tag=14,i=Tp(null,i,o,e,a);break t}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return ef(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Es(o,i.pendingProps),Rp(e,i,o,h,a);case 3:t:{if(Xi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var f=i.pendingProps;h=i.memoizedState,o=h.element,gf(e,i),jo(i,f,null,a);var y=i.memoizedState;if(f=y.cache,pr(i,Se,f),f!==h.cache&&df(i,[Se],a,!0),qo(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Ip(e,i,f,a);break t}else if(f!==o){o=wn(Error(s(424)),i),Co(o),i=Ip(e,i,f,a);break t}else for(ke=zn(i.stateNode.containerInfo.firstChild),Je=i,Bt=!0,Ln=null,ei=!0,a=bg(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),f===o){i=Ci(e,i,a);break t}Le(e,i,f,a)}i=i.child}return i;case 26:return xo(e,i),e===null?(a=U_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Ku(_n.current).createElement(a),o[Ie]=i,o[ve]=e,xe(o,a,e),Wt(o),i.stateNode=o):i.memoizedState=U_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return no(i),e===null&&Bt&&(o=i.stateNode=N_(i.type,i.pendingProps,_n.current),Je=i,ei=!0,ke=zn(o.firstChild)),o=i.pendingProps.children,e!==null||Bt?Le(e,i,o,a):i.child=gs(i,null,o,a),xo(e,i),i.child;case 5:return e===null&&Bt&&((h=o=ke)&&(o=eA(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,Je=i,ke=zn(o.firstChild),ei=!1,h=!0):h=!1),h||ms(i)),no(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,$f(h,f)?o=null:y!==null&&$f(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Lh(e,i,yT,null,null,a),il._currentValue=h),xo(e,i),Le(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ke)&&(a=nA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Je=i,ke=null,e=!0):e=!1),e||ms(i)),null;case 13:return Cp(e,i,a);case 4:return Xi(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=gs(i,null,o,a):Le(e,i,o,a),i.child;case 11:return Ep(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,pr(i,i.type,o.value),Le(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,As(i),h=He(h),o=o(h),i.flags|=1,Le(e,i,o,a),i.child;case 14:return Tp(e,i,i.type,i.pendingProps,a);case 15:return Ap(e,i,i.type,i.pendingProps,a);case 19:return Op(e,i,a);case 22:return Sp(e,i,a);case 24:return As(i),o=He(Se),e===null?(h=Ph(),h===null&&(h=Xt,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},mf(i),pr(i,Se,h)):((e.lanes&a)!==0&&(gf(e,i),jo(i,null,null,a),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pr(i,Se,o)):(o=f.cache,pr(i,Se,o),o!==h.cache&&df(i,[Se],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var hf=xt(null),Ts=null,Di=null;function pr(e,i,a){Ft(hf,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=hf.current,ne(hf)}function ff(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function df(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ff(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ff(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function zo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;hn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Yi.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&df(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Vp(Ts,e)}function Nu(e,i){return Ts===null&&As(e),Vp(e,i)}function Vp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var _r=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=hu(e),dg(e,null,a),i}return cu(e,o,i,a),hu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,er(e,a)}}function pf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function qo(){if(_f){var e=ma;if(e!==null)throw e}}function jo(e,i,a,o){_f=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;y=0,H=N=b=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Pt&z)===z:(o&z)===z){z!==0&&z===da&&(_f=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,vt=E;z=i;var ae=a;switch(vt.tag){case 1:if(at=vt.payload,typeof at=="function"){Y=at.call(ae,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=vt.payload,z=typeof at=="function"?at.call(ae,Y,z):at,z==null)break t;Y=C({},Y,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=j,b=Y):H=H.next=j,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),br|=y,e.lanes=y,e.memoizedState=Y}}function Mp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Up(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mp(a[e],i)}function Ho(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Er(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var b=a;try{E()}catch(N){Yt(h,b,N)}}}o=o.next}while(o!==f)}}catch(N){Yt(i,i.return,N)}}function Pp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Up(i,a)}catch(o){Yt(e,e.return,o)}}}function kp(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function Ss(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,i,f)}}function fn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Lp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function xp(e,i,a){try{var o=e.stateNode;$T(o,e.type,a,i),o[ve]=i}catch(h){Yt(e,e.return,h)}}function zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(vf(e,i,a),e=e.sibling;e!==null;)vf(e,i,a),e=e.sibling}function Vu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Vu(e,i,a),e=e.sibling;e!==null;)Vu(e,i,a),e=e.sibling}var Ni=!1,re=!1,Ef=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,qp=!1;function RT(e,i){if(e=e.containerInfo,Yf=Wu,e=rg(e),Th(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,N=0,H=0,Y=e,z=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(b=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===a&&++N===h&&(E=y),z===f&&++H===o&&(b=y),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:e,selectionRange:a},Wu=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Es(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Jf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return at=qp,qp=!1,at}function jp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(e,a),o&4&&Ho(5,a);break;case 1:if(Mi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}o&64&&Pp(a),o&512&&Ss(a,a.return);break;case 3:if(Mi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Up(o,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Mi(e,a),o&512&&Ss(a,a.return);break;case 27:case 5:Mi(e,a),i===null&&o&4&&Lp(a),o&512&&Ss(a,a.return);break;case 12:Mi(e,a);break;case 13:Mi(e,a),o&4&&Fp(e,a);break;case 22:if(h=a.memoizedState!==null||Ni,!h){i=i!==null&&i.memoizedState!==null||re;var f=Ni,y=re;Ni=h,(re=i)&&!y?Tr(e,a,(a.subtreeFlags&8772)!==0):Mi(e,a),Ni=f,re=y}o&512&&(a.memoizedProps.mode==="manual"?Ss(a,a.return):fn(a,a.return));break;default:Mi(e,a)}}function Hp(e){var i=e.alternate;i!==null&&(e.alternate=null,Hp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Jr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,dn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)Gp(e,i,a),a=a.sibling}function Gp(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:re||fn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||fn(a,i);var o=me,h=dn;for(me=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Jr(a),me=o,dn=h;break;case 5:re||fn(a,i);case 6:h=me;var f=dn;if(me=null,Vi(e,i,a),me=h,dn=f,me!==null)if(dn)try{e=me,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Yt(a,i,y)}else try{me.removeChild(a.stateNode)}catch(y){Yt(a,i,y)}break;case 18:me!==null&&(dn?(i=me,a=a.stateNode,i.nodeType===8?Wf(i.parentNode,a):i.nodeType===1&&Wf(i,a),ol(i)):Wf(me,a.stateNode));break;case 4:o=me,h=dn,me=a.stateNode.containerInfo,dn=!0,Vi(e,i,a),me=o,dn=h;break;case 0:case 11:case 14:case 15:re||Er(2,a,i),re||Er(4,a,i),Vi(e,i,a);break;case 1:re||(fn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&kp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:re||fn(a,i),re=(o=re)||a.memoizedState!==null,Vi(e,i,a),re=o;break;default:Vi(e,i,a)}}function Fp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){Yt(i,i.return,a)}}function IT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Bp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Bp),i;default:throw Error(s(435,e.tag))}}function Tf(e,i){var a=IT(e);i.forEach(function(o){var h=BT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,dn=!1;break t;case 3:me=E.stateNode.containerInfo,dn=!0;break t;case 4:me=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(me===null)throw Error(s(160));Gp(f,y,h),me=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kp(i,e),i=i.sibling}var xn=null;function Kp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(i,e),On(e),o&4&&(Er(3,e,e.return),Ho(3,e),Er(5,e,e.return));break;case 1:Dn(i,e),On(e),o&512&&(re||a===null||fn(a,a.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=xn;if(Dn(i,e),On(e),o&512&&(re||a===null||fn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ir]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),xe(f,o,a),f[Ie]=e,Wt(f),o=f;break t;case"link":var y=L_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),xe(f,o,a),h.head.appendChild(f);break;case"meta":if(y=L_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),xe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,Wt(f),o=f}e.stateNode=o}else x_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?x_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,H=b.nodeName;b[ir]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var Y=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);xe(h,Y,f),h[Ie]=e,h[ve]=f}catch(at){Yt(e,e.return,at)}}case 5:if(Dn(i,e),On(e),o&512&&(re||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,xp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(Dn(i,e),On(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(Xu=null,h=xn,xn=Qu(i.containerInfo),Dn(i,e),xn=h,On(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(at){Yt(e,e.return,at)}Ef&&(Ef=!1,Qp(e));break;case 4:o=xn,xn=Qu(e.stateNode.containerInfo),Dn(i,e),On(e),xn=o;break;case 12:Dn(i,e),On(e);break;case 13:Dn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 22:if(o&512&&(re||a===null||fn(a,a.return)),b=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,H=Ni,Y=re,Ni=H||b,re=Y||N,Dn(i,e),re=Y,Ni=H,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=Ni||re,a===null||N||i||ya(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(h=N.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var j=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(N,N.return,at)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(at){Yt(N,N.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tf(e,a))));break;case 19:Dn(i,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 21:break;default:Dn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(zp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=yf(e);Vu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(En(y,""),o.flags&=-33);var E=yf(e);Vu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,N=yf(e);vf(e,N,b);break;default:throw Error(s(161))}}}catch(H){Yt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Qp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jp(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),ya(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&kp(i,i.return,a),ya(i);break;case 26:case 27:case 5:fn(i,i.return),ya(i);break;case 22:fn(i,i.return),i.memoizedState===null&&ya(i);break;default:ya(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,a),Ho(4,f);break;case 1:if(Tr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(o,o.return,N)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Mp(b[h],E)}catch(N){Yt(o,o.return,N)}}a&&y&64&&Pp(f),Ss(f,f.return);break;case 26:case 27:case 5:Tr(h,f,a),a&&o===null&&y&4&&Lp(f),Ss(f,f.return);break;case 12:Tr(h,f,a);break;case 13:Tr(h,f,a),a&&y&4&&Fp(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,a),Ss(f,f.return);break;default:Tr(h,f,a)}i=i.sibling}}function Af(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Mo(a))}function Sf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e))}function Ar(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yp(e,i,a,o),i=i.sibling}function Yp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(e,i,a,o),h&2048&&Ho(9,i);break;case 3:Ar(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e)));break;case 12:if(h&2048){Ar(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Ar(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,i.memoizedState!==null?f._visibility&4?Ar(e,i,a,o):Go(e,i):f._visibility&4?Ar(e,i,a,o):(f._visibility|=4,va(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Af(i.alternate,i);break;case 24:Ar(e,i,a,o),h&2048&&Sf(i.alternate,i);break;default:Ar(e,i,a,o)}}function va(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,E=a,b=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:va(f,y,E,b,h),Ho(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?va(f,y,E,b,h):Go(f,y):(H._visibility|=4,va(f,y,E,b,h)),h&&N&2048&&Af(y.alternate,y);break;case 24:va(f,y,E,b,h),h&&N&2048&&Sf(y.alternate,y);break;default:va(f,y,E,b,h)}i=i.sibling}}function Go(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Go(a,o),h&2048&&Af(o.alternate,o);break;case 24:Go(a,o),h&2048&&Sf(o.alternate,o);break;default:Go(a,o)}i=i.sibling}}var Fo=8192;function Ea(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 26:Ea(e),e.flags&Fo&&e.memoizedState!==null&&gA(xn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=xn;xn=Qu(e.stateNode.containerInfo),Ea(e),xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Fo,Fo=16777216,Ea(e),Fo=i):Ea(e));break;default:Ea(e)}}function $p(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ko(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Wp(o,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:Ko(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Ko(e);break;case 12:Ko(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Mu(e)):Ko(e);break;default:Ko(e)}}function Mu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Wp(o,e)}$p(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Er(8,i,i.return),Mu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Mu(i));break;default:Mu(i)}e=e.sibling}}function Wp(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Hp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function CT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,i,a,o){return new CT(e,i,a,o)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sr(e,i){var a=e.alternate;return a===null?(a=Nn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jp(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,o,h,f){var y=0;if(o=e,typeof e=="function")bf(e)&&(y=1);else if(typeof e=="string")y=dA(e,a,Xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return bs(a.children,h,f,i);case v:y=8,h|=24;break;case A:return e=Nn(12,a,i,h|2),e.elementType=A,e.lanes=f,e;case W:return e=Nn(13,a,i,h),e.elementType=W,e.lanes=f,e;case K:return e=Nn(19,a,i,h),e.elementType=K,e.lanes=f,e;case ft:return t_(a,h,f,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case q:y=10;break t;case P:y=9;break t;case X:y=11;break t;case st:y=14;break t;case ut:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Nn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function bs(e,i,a,o){return e=Nn(7,e,o,i),e.lanes=a,e}function t_(e,i,a,o){e=Nn(22,e,o,i),e.elementType=ft,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var y=hr(f,2);y!==null&&(h._pendingVisibility|=2,tn(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var y=hr(f,2);y!==null&&(h._pendingVisibility&=-3,tn(y,f,2))}}};return e.stateNode=h,e}function wf(e,i,a){return e=Nn(6,e,null,i),e.lanes=a,e}function Rf(e,i,a){return i=Nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ui(e){e.flags|=4}function e_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(i)){if(i=Cn.current,i!==null&&((Pt&4194176)===Pt?ni!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==ni))throw Oo=Oh,yg;e.flags|=8192}}function Pu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ji():536870912,e.lanes|=i,Aa|=i)}function Qo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function DT(e,i,a){var o=i.pendingProps;switch(Ch(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Oi(Se),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Uf(Ln),Ln=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(Jt(i),e_(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),Jt(i),e_(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==o&&Ui(i),Jt(i),i.flags&=-16777217),null;case 27:qs(i),a=_n.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Xe.current,Ro(i)?pg(i):(e=N_(h,o,a),i.stateNode=e,Ui(i))}return Jt(i),null;case 5:if(qs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Xe.current,Ro(i))pg(i);else{switch(h=Ku(_n.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(xe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=_n.current,Ro(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||ms(i)}else e=Ku(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else Ln!==null&&(Uf(Ln),Ln=null),h=!0;if(!h)return i.flags&256?(Ri(i),i):(Ri(i),null)}if(Ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Pu(i,i.updateQueue),Jt(i),null;case 4:return di(),e===null&&Ff(i.stateNode.containerInfo),Jt(i),null;case 10:return Oi(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Qo(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=yu(e),f!==null){for(i.flags|=128,Qo(h,!1),e=f.updateQueue,i.updateQueue=e,Pu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Jp(a,e),a=a.sibling;return Ft(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>ku&&(i.flags|=128,o=!0,Qo(h,!1),i.lanes=4194304)}else{if(!o)if(e=yu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Pu(i,e),Qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(i),null}else 2*nn()-h.renderingStartTime>ku&&a!==536870912&&(i.flags|=128,o=!0,Qo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Ae.current,Ft(Ae,o?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ri(i),Vh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&Pu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&ne(ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Se),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function OT(e,i){switch(Ch(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Se),di(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return qs(i),null;case 13:if(Ri(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return di(),null;case 10:return Oi(i.type),null;case 22:case 23:return Ri(i),Vh(),e!==null&&ne(ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function n_(e,i){switch(Ch(i),i.tag){case 3:Oi(Se),di();break;case 26:case 27:case 5:qs(i);break;case 4:di();break;case 13:Ri(i);break;case 19:ne(Ae);break;case 10:Oi(i.type);break;case 22:case 23:Ri(i),Vh(),e!==null&&ne(ps);break;case 24:Oi(Se)}}var NT={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},VT=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,It=null,Pt=0,$t=0,mn=null,Pi=!1,Ta=!1,If=!1,ki=0,se=0,br=0,ws=0,Cf=0,Vn=0,Aa=0,Yo=null,ri=null,Df=!1,Of=0,ku=1/0,Lu=null,wr=null,xu=!1,Rs=null,Xo=0,Nf=0,Vf=null,$o=0,Mf=null;function gn(){if((te&2)!==0&&Pt!==0)return Pt&-Pt;if(S.T!==null){var e=da;return e!==0?e:qf()}return Gl()}function i_(){Vn===0&&(Vn=(Pt&536870912)===0||Bt?oo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Vn}function tn(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(Sa(e,0),Li(e,Pt,Vn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(ws|=a),se===4&&Li(e,Pt,Vn,!1)),si(e))}function r_(e,i,a){if((te&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Wi(e,i),h=o?PT(e,i):Lf(e,i,!0),f=o;do{if(h===0){Ta&&!o&&Li(e,i,0,!1);break}else if(h===6)Li(e,i,0,!Pi);else{if(a=e.current.alternate,f&&!MT(a)){h=Lf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=Yo;var b=E.current.memoizedState.isDehydrated;if(b&&(Sa(E,y).flags|=256),y=Lf(E,y,!1),y!==2){if(If&&!b){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=ri,ri=h,f!==null&&Uf(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){Sa(e,0),Li(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Li(o,i,Vn,!Pi);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(f=Of+300-nn(),10<f)){if(Li(o,i,Vn,!Pi),yn(o,0)!==0)break t;o.timeoutHandle=C_(s_.bind(null,o,a,ri,Lu,Df,i,Vn,ws,Aa,Pi,2,-0,0),f);break t}s_(o,a,ri,Lu,Df,i,Vn,ws,Aa,Pi,0,-0,0)}}break}while(!0);si(e)}function Uf(e){ri===null?ri=e:ri.push.apply(ri,e)}function s_(e,i,a,o,h,f,y,E,b,N,H,Y,z){var j=i.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:mA},Xp(i),i=pA(),i!==null)){e.cancelPendingCommit=i(f_.bind(null,e,a,o,h,y,E,b,1,Y,z)),Li(e,f,y,!N);return}f_(e,a,o,h,y,E,b,H,Y,z)}function MT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(e,i,a,o){i&=~Cf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-$e(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&tr(e,a,i)}function zu(){return(te&6)===0?(Zo(0),!1):!0}function Pf(){if(It!==null){if($t===0)var e=It.return;else e=It,Di=Ts=null,Bh(e),ha=null,No=0,e=It;for(;e!==null;)n_(e.alternate,e),e=e.return;It=null}}function Sa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pf(),Xt=e,It=a=Sr(e.current,null),Pt=i,$t=0,mn=null,Pi=!1,Ta=Wi(e,i),If=!1,Aa=Vn=Cf=ws=br=se=0,ri=Yo=null,Df=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-$e(o),f=1<<h;i|=e[h],o&=~f}return ki=i,uu(),a}function a_(e,i){wt=null,S.H=ii,i===Do?(i=Tg(),$t=3):i===yg?(i=Tg(),$t=4):$t=i===vp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,It===null&&(se=1,Du(e,wn(i,e.current)))}function o_(){var e=S.H;return S.H=ii,e===null?ii:e}function l_(){var e=S.A;return S.A=NT,e}function kf(){se=4,Pi||(Pt&4194176)!==Pt&&Cn.current!==null||(Ta=!0),(br&134217727)===0&&(ws&134217727)===0||Xt===null||Li(Xt,Pt,Vn,!1)}function Lf(e,i,a){var o=te;te|=2;var h=o_(),f=l_();(Xt!==e||Pt!==i)&&(Lu=null,Sa(e,i)),i=!1;var y=se;t:do try{if($t!==0&&It!==null){var E=It,b=mn;switch($t){case 8:Pf(),y=6;break t;case 3:case 2:case 6:Cn.current===null&&(i=!0);var N=$t;if($t=0,mn=null,ba(e,E,b,N),a&&Ta){y=0;break t}break;default:N=$t,$t=0,mn=null,ba(e,E,b,N)}}UT(),y=se;break}catch(H){a_(e,H)}while(!0);return i&&e.shellSuspendCounter++,Di=Ts=null,te=o,S.H=h,S.A=f,It===null&&(Xt=null,Pt=0,uu()),y}function UT(){for(;It!==null;)u_(It)}function PT(e,i){var a=te;te|=2;var o=o_(),h=l_();Xt!==e||Pt!==i?(Lu=null,ku=nn()+500,Sa(e,i)):Ta=Wi(e,i);t:do try{if($t!==0&&It!==null){i=It;var f=mn;e:switch($t){case 1:$t=0,mn=null,ba(e,i,f,1);break;case 2:if(vg(f)){$t=0,mn=null,c_(i);break}i=function(){$t===2&&Xt===e&&($t=7),si(e)},f.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:vg(f)?($t=0,mn=null,c_(i)):($t=0,mn=null,ba(e,i,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(!y||z_(y)){$t=0,mn=null;var b=E.sibling;if(b!==null)It=b;else{var N=E.return;N!==null?(It=N,Bu(N)):It=null}break e}}$t=0,mn=null,ba(e,i,f,5);break;case 6:$t=0,mn=null,ba(e,i,f,6);break;case 8:Pf(),se=6;break t;default:throw Error(s(462))}}kT();break}catch(H){a_(e,H)}while(!0);return Di=Ts=null,S.H=o,S.A=h,te=a,It!==null?0:(Xt=null,Pt=0,uu(),se)}function kT(){for(;It!==null&&!ch();)u_(It)}function u_(e){var i=Np(e.alternate,e,ki);e.memoizedProps=e.pendingProps,i===null?Bu(e):It=i}function c_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=wp(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=wp(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Bh(i);default:n_(a,i),i=It=Jp(i,ki),i=Np(a,i,ki)}e.memoizedProps=e.pendingProps,i===null?Bu(e):It=i}function ba(e,i,a,o){Di=Ts=null,Bh(i),ha=null,No=0;var h=i.return;try{if(bT(e,h,i,a,Pt)){se=1,Du(e,wn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,Du(e,wn(a,e.current)),It=null;return}i.flags&32768?(Bt||o===1?e=!0:Ta||(Pt&536870912)!==0?e=!1:(Pi=e=!0,(o===2||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),h_(i,e)):Bu(i)}function Bu(e){var i=e;do{if((i.flags&32768)!==0){h_(i,Pi);return}e=i.return;var a=DT(i.alternate,i,ki);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);se===0&&(se=5)}function h_(e,i){do{var a=OT(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);se=6,It=null}function f_(e,i,a,o,h,f,y,E,b,N){var H=S.T,Y=et.p;try{et.p=2,S.T=null,LT(e,i,a,o,Y,h,f,y,E,b,N)}finally{S.T=H,et.p=Y}}function LT(e,i,a,o,h,f,y,E){do wa();while(Rs!==null);if((te&6)!==0)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=wh,jl(e,o,N,f,y,E),e===Xt&&(It=Xt=null,Pt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||xu||(xu=!0,Nf=N,Vf=a,qT(mi,function(){return wa(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=et.p,et.p=2,y=te,te|=4,RT(e,b),Kp(b,e),oT(Xf,e.containerInfo),Wu=!!Yf,Xf=Yf=null,e.current=b,jp(e,b.alternate,b),io(),te=y,et.p=f,S.T=a):e.current=b,xu?(xu=!1,Rs=e,Xo=o):d_(e,N),N=e.pendingLanes,N===0&&(wr=null),so(b.stateNode),si(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)N=i[b],h(N.value,{componentStack:N.stack});return(Xo&3)!==0&&wa(),N=e.pendingLanes,(o&4194218)!==0&&(N&42)!==0?e===Mf?$o++:($o=0,Mf=e):$o=0,Zo(0),null}function d_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Mo(i)))}function wa(){if(Rs!==null){var e=Rs,i=Nf;Nf=0;var a=Hl(Xo),o=S.T,h=et.p;try{if(et.p=32>a?32:a,S.T=null,Rs===null)var f=!1;else{a=Vf,Vf=null;var y=Rs,E=Xo;if(Rs=null,Xo=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,Zp(y.current),Yp(y,y.current,E,a),te=b,Zo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot($i,y)}catch{}f=!0}return f}finally{et.p=h,S.T=o,d_(e,i)}}return!1}function m_(e,i,a){i=wn(a,i),i=tf(e.stateNode,i,2),e=vr(e,i,2),e!==null&&(oe(e,2),si(e))}function Yt(e,i,a){if(e.tag===3)m_(e,e,a);else for(;i!==null;){if(i.tag===3){m_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=wn(a,e),a=_p(2),o=vr(i,a,2),o!==null&&(yp(a,o,i,e),oe(o,2),si(o));break}}i=i.return}}function xf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new VT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(If=!0,h.add(a),e=xT.bind(null,e,i,a),i.then(e,e))}function xT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(Pt&a)===a&&(se===4||se===3&&(Pt&62914560)===Pt&&300>nn()-Of?(te&2)===0&&Sa(e,0):Cf|=a,Aa===Pt&&(Aa=0)),si(e)}function g_(e,i){i===0&&(i=Ji()),e=hr(e,i),e!==null&&(oe(e,i),si(e))}function zT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(e,a)}function BT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),g_(e,a)}function qT(e,i){return $r(e,i)}var qu=null,Ra=null,zf=!1,ju=!1,Bf=!1,Is=0;function si(e){e!==Ra&&e.next===null&&(Ra===null?qu=Ra=e:Ra=Ra.next=e),ju=!0,zf||(zf=!0,HT(jT))}function Zo(e,i){if(!Bf&&ju){Bf=!0;do for(var a=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-$e(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=Pt,f=yn(o,o===Xt?f:0),(f&3)===0||Wi(o,f)||(a=!0,y_(o,f));o=o.next}while(a);Bf=!1}}function jT(){ju=zf=!1;var e=0;Is!==0&&(ZT()&&(e=Is),Is=0);for(var i=nn(),a=null,o=qu;o!==null;){var h=o.next,f=p_(o,i);f===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(Ra=a)):(a=o,(e!==0||(f&3)!==0)&&(ju=!0)),o=h}Zo(e)}function p_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-$e(f),E=1<<y,b=h[y];b===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Gs(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Xt,a=Pt,a=yn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Hs(o),Hl(a)){case 2:case 8:a=Re;break;case 32:a=mi;break;case 268435456:a=ro;break;default:a=mi}return o=__.bind(null,e),a=$r(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Hs(o),e.callbackPriority=2,e.callbackNode=null,2}function __(e,i){var a=e.callbackNode;if(wa()&&e.callbackNode!==a)return null;var o=Pt;return o=yn(e,e===Xt?o:0),o===0?null:(r_(e,o,i),p_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?__.bind(null,e):null)}function y_(e,i){if(wa())return null;r_(e,i,!0)}function HT(e){JT(function(){(te&6)!==0?$r(ye,e):e()})}function qf(){return Is===0&&(Is=oo()),Is}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function E_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function GT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=v_((h[ve]||null).action),y=o.submitter;y&&(i=(i=y[ve]||null)?v_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new Zs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var b=y?E_(h,y):new FormData(h);Xh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?E_(h,y):new FormData(h),Xh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var jf=0;jf<fg.length;jf++){var Hf=fg[jf],FT=Hf.toLowerCase(),KT=Hf[0].toUpperCase()+Hf.slice(1);kn(FT,"on"+KT)}kn(og,"onAnimationEnd"),kn(lg,"onAnimationIteration"),kn(ug,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(uT,"onTransitionRun"),kn(cT,"onTransitionStart"),kn(hT,"onTransitionCancel"),kn(cg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function T_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(H){Cu(H)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(H){Cu(H)}h.currentTarget=null,f=b}}}}function Nt(e,i){var a=i[Wr];a===void 0&&(a=i[Wr]=new Set);var o=e+"__bubble";a.has(o)||(A_(i,e,2,!1),a.add(o))}function Gf(e,i,a){var o=0;i&&(o|=4),A_(a,e,o,i)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Hu]){e[Hu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(QT.has(a)||Gf(a,!1,e),Gf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Hu]||(i[Hu]=!0,Gf("selectionchange",!1,i))}}function A_(e,i,a,o){switch(F_(i)){case 2:var h=vA;break;case 8:h=EA;break;default:h=rd}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Kf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;E!==null;){if(y=Pn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Yl(function(){var N=f,H=$s(a),Y=[];t:{var z=hg.get(e);if(z!==void 0){var j=Zs,at=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":j=ia;break;case"focusin":at="focus",j=ta;break;case"focusout":at="blur",j=ta;break;case"beforeblur":case"afterblur":j=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=nu;break;case og:case lg:case ug:j=ea;break;case cg:j=ru;break;case"scroll":case"scrollend":j=Xl;break;case"wheel":j=ra;break;case"copy":case"cut":case"paste":j=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ao;break;case"toggle":case"beforetoggle":j=au}var vt=(i&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),U=vt?z!==null?z+"Capture":null:z;vt=[];for(var O=N,x;O!==null;){var G=O;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||U===null||(G=is(O,U),G!=null&&vt.push(Jo(O,G,x))),ae)break;O=O.return}0<vt.length&&(z=new j(z,at,null,a,H),Y.push({event:z,listeners:vt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==Tn&&(at=a.relatedTarget||a.fromElement)&&(Pn(at)||at[gi]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(at=a.relatedTarget||a.toElement,j=N,at=at?Pn(at):null,at!==null&&(ae=ct(at),vt=at.tag,at!==ae||vt!==5&&vt!==27&&vt!==6)&&(at=null)):(j=null,at=N),j!==at)){if(vt=Sn,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ao,G="onPointerLeave",U="onPointerEnter",O="pointer"),ae=j==null?z:rr(j),x=at==null?z:rr(at),z=new vt(G,O+"leave",j,a,H),z.target=ae,z.relatedTarget=x,G=null,Pn(H)===N&&(vt=new vt(U,O+"enter",at,a,H),vt.target=x,vt.relatedTarget=ae,G=vt),ae=G,j&&at)e:{for(vt=j,U=at,O=0,x=vt;x;x=Ia(x))O++;for(x=0,G=U;G;G=Ia(G))x++;for(;0<O-x;)vt=Ia(vt),O--;for(;0<x-O;)U=Ia(U),x--;for(;O--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=Ia(vt),U=Ia(U)}vt=null}else vt=null;j!==null&&S_(Y,z,j,vt,!1),at!==null&&ae!==null&&S_(Y,ae,at,vt,!0)}}t:{if(z=N?rr(N):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var it=$m;else if(Te(z))if(Zm)it=sT;else{it=iT;var Rt=nT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&go(N.elementType)&&(it=$m):it=rT;if(it&&(it=it(e,N))){Si(Y,it,a,H);break t}Rt&&Rt(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&Xs(z,"number",z.value)}switch(Rt=N?rr(N):window,e){case"focusin":(Te(Rt)||Rt.contentEditable==="true")&&(sa=Rt,Ah=N,wo=null);break;case"focusout":wo=Ah=sa=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,sg(Y,a,H);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":sg(Y,a,H)}var lt;if(Jn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?B(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(_&&a.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(lt=_o()):(Xn=H,cr="value"in Xn?Xn.value:Xn.textContent,Mt=!0)),Rt=Gu(N,dt),0<Rt.length&&(dt=new Eo(dt,e,null,a,H),Y.push({event:dt,listeners:Rt}),lt?dt.data=lt:(lt=Z(a),lt!==null&&(dt.data=lt)))),(lt=m?Ee(e,a):Ut(e,a))&&(dt=Gu(N,"onBeforeInput"),0<dt.length&&(Rt=new Eo("onBeforeInput","beforeinput",null,a,H),Y.push({event:Rt,listeners:dt}),Rt.data=lt)),GT(Y,e,N,a,H)}T_(Y,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Gu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=is(e,a),h!=null&&o.unshift(Jo(e,h,f)),h=is(e,i),h!=null&&o.push(Jo(e,h,f))),e=e.return}return o}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function S_(e,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=is(a,f),N!=null&&y.unshift(Jo(a,N,b))):h||(N=is(a,f),N!=null&&y.push(Jo(a,N,b)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(YT,`
`).replace(XT,"")}function w_(e,i){return i=b_(i),b_(e)===i}function Fu(){}function Qt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":or(e,"class",o);break;case"tabIndex":or(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,a,o);break;case"style":Ql(e,o,f);break;case"data":if(i!=="object"){or(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ar(e,"popover",o);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ar(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gh.get(a)||a,ar(e,a,o))}}function Qf(e,i,a,o,h,f){switch(a){case"style":Ql(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ar(e,a,o)}}}function xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,f,y,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),o&&Qt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=y=h=null,b=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":N=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Qt(e,i,o,H,a,null)}}es(e,f,E,b,N,y,h,!1),ts(e);return;case"select":Nt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,i,h,E,a,null)}i=f,a=y,e.multiple=!!o,i!=null?zt(e,!!o,i,!1):a!=null&&zt(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,i,y,E,a,null)}ur(e,o,h,f),ts(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,i,b,o,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Nt(Wo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,N,o,a,null)}return;default:if(go(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Qf(e,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Qt(e,i,E,o,a,null))}function $T(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,N=null,H=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(j)||Qt(e,i,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":N=j;break;case"defaultChecked":H=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Y&&Qt(e,i,z,j,o,Y)}}lr(e,y,E,b,N,H,f,h);return;case"select":j=y=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:o.hasOwnProperty(f)||Qt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,i,h,f,o,b)}i=E,a=y,o=j,z!=null?zt(e,!!a,z,!1):!!o!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Qt(e,i,y,h,o,f)}ns(e,z,j);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Qt(e,i,at,null,o,z)}for(b in o)if(z=o[b],j=a[b],o.hasOwnProperty(b)&&z!==j&&(z!=null||j!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Qt(e,i,b,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&Qt(e,i,vt,null,o,z);for(N in o)if(z=o[N],j=a[N],o.hasOwnProperty(N)&&z!==j&&(z!=null||j!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Qt(e,i,N,z,o,j)}return;default:if(go(i)){for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!==void 0&&!o.hasOwnProperty(ae)&&Qf(e,i,ae,void 0,o,z);for(H in o)z=o[H],j=a[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Qf(e,i,H,z,o,j);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Qt(e,i,U,null,o,z);for(Y in o)z=o[Y],j=a[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||Qt(e,i,Y,z,o,j)}var Yf=null,Xf=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function $f(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zf=null;function ZT(){var e=window.event;return e&&e.type==="popstate"?e===Zf?!1:(Zf=e,!0):(Zf=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(e){return D_.resolve(null).then(e).catch(tA)}:C_;function tA(e){setTimeout(function(){throw e})}function Wf(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),ol(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ol(i)}function Jf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function eA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function nA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function O_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function N_(e,i,a){switch(i=Ku(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Mn=new Map,V_=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var xi=et.d;et.d={f:iA,r:rA,D:sA,C:aA,L:oA,m:lA,X:cA,S:uA,M:hA};function iA(){var e=xi.f(),i=zu();return e||i}function rA(e){var i=pi(e);i!==null&&i.tag===5&&i.type==="form"?sp(i):xi.r(e)}var Ca=typeof document>"u"?null:document;function M_(e,i,a){var o=Ca;if(o&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),xe(i,"link",e),Wt(i),o.head.appendChild(i)))}}function sA(e){xi.D(e),M_("dns-prefetch",e,null)}function aA(e,i){xi.C(e,i),M_("preconnect",e,i)}function oA(e,i,a){xi.L(e,i,a);var o=Ca;if(o&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(i){case"style":f=Da(e);break;case"script":f=Oa(e)}Mn.has(f)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(tl(f))||i==="script"&&o.querySelector(el(f))||(i=o.createElement("link"),xe(i,"link",e),Wt(i),o.head.appendChild(i)))}}function lA(e,i){xi.m(e,i);var a=Ca;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Mn.has(f)&&(e=C({rel:"modulepreload",href:e},i),Mn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(f)))return}o=a.createElement("link"),xe(o,"link",e),Wt(o),a.head.appendChild(o)}}}function uA(e,i,a){xi.S(e,i,a);var o=Ca;if(o&&e){var h=sr(o).hoistableStyles,f=Da(e);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(tl(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(f))&&td(e,a);var b=y=o.createElement("link");Wt(b),xe(b,"link",e),b._p=new Promise(function(N,H){b.onload=N,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yu(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function cA(e,i){xi.X(e,i);var a=Ca;if(a&&e){var o=sr(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0},i),(i=Mn.get(h))&&ed(e,i),f=a.createElement("script"),Wt(f),xe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hA(e,i){xi.M(e,i);var a=Ca;if(a&&e){var o=sr(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&ed(e,i),f=a.createElement("script"),Wt(f),xe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function U_(e,i,a,o){var h=(h=_n.current)?Qu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=sr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var f=sr(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(tl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),f||fA(h,e,a,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=sr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+ie(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function fA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),xe(i,"link",a),Wt(i),e.head.appendChild(i))}function Oa(e){return'[src="'+ie(e)+'"]'}function el(e){return"script[async]"+e}function k_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return i.instance=o,Wt(o),o;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),xe(o,"style",h),Yu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Da(a.href);var f=e.querySelector(tl(h));if(f)return i.state.loading|=4,i.instance=f,Wt(f),f;o=P_(a),(h=Mn.get(h))&&td(o,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),xe(f,"link",o),i.state.loading|=4,Yu(f,a.precedence,e),i.instance=f;case"script":return f=Oa(a.src),(h=e.querySelector(el(f)))?(i.instance=h,Wt(h),h):(o=a,(h=Mn.get(f))&&(o=C({},a),ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),xe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,a.precedence,e));return i.instance}function Yu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Xu=null;function L_(e,i,a){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(a,o)}else h=Xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ir]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function x_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function dA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function mA(){}function gA(e,i,a){if(nl===null)throw Error(s(475));var o=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),f=e.querySelector(tl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,Wt(f);return}f=e.ownerDocument||e,a=P_(a),(h=Mn.get(h))&&td(a,h),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),xe(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=$u.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function pA(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function nd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,i.forEach(_A,e),Zu=null,$u.call(e))}function _A(e,i){if(!(i.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:q,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function yA(e,i,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function B_(e,i,a,o,h,f,y,E,b,N,H,Y){return e=new yA(e,i,a,y,E,b,N,Y),i=1,f===!0&&(i|=24),f=Nn(3,null,null,i),e.current=f,f.stateNode=e,i=Mh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},mf(f),e}function q_(e){return e?(e=la,e):la}function j_(e,i,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=vr(e,o,i),a!==null&&(tn(a,e,i),Bo(a,e,i))}function H_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function id(e,i){H_(e,i),(e=e.alternate)&&H_(e,i)}function G_(e){if(e.tag===13){var i=hr(e,67108864);i!==null&&tn(i,e,67108864),id(e,67108864)}}var Wu=!0;function vA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=2,rd(e,i,a,o)}finally{et.p=f,S.T=h}}function EA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=8,rd(e,i,a,o)}finally{et.p=f,S.T=h}}function rd(e,i,a,o){if(Wu){var h=sd(o);if(h===null)Kf(e,i,o,Ju,a),K_(e,o);else if(AA(h,e,i,a,o))o.stopPropagation();else if(K_(e,o),i&4&&-1<TA.indexOf(e)){for(;h!==null;){var f=pi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Un(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-$e(y);E.entanglements[1]|=b,y&=~b}si(f),(te&6)===0&&(ku=nn()+500,Zo(0))}}break;case 13:E=hr(f,2),E!==null&&tn(E,f,2),zu(),id(f,2)}if(f=sd(o),f===null&&Kf(e,i,o,Ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Kf(e,i,o,null,a)}}function sd(e){return e=$s(e),ad(e)}var Ju=null;function ad(e){if(Ju=null,e=Pn(e),e!==null){var i=ct(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=jt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ju=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case ye:return 2;case Re:return 8;case mi:case zl:return 32;case ro:return 268435456;default:return 32}default:return 32}}var od=!1,Rr=null,Ir=null,Cr=null,rl=new Map,sl=new Map,Dr=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=pi(i),i!==null&&G_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function AA(e,i,a,o,h){switch(i){case"focusin":return Rr=al(Rr,e,i,a,o,h),!0;case"dragenter":return Ir=al(Ir,e,i,a,o,h),!0;case"mouseover":return Cr=al(Cr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,i,a,o,h)),!0}return!1}function Q_(e){var i=Pn(e.target);if(i!==null){var a=ct(i);if(a!==null){if(i=a.tag,i===13){if(i=jt(a),i!==null){e.blockedOn=i,nr(e.priority,function(){if(a.tag===13){var o=gn(),h=hr(a,o);h!==null&&tn(h,a,o),id(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Tn=o,a.target.dispatchEvent(o),Tn=null}else return i=pi(a),i!==null&&G_(i),e.blockedOn=a,!1;i.shift()}return!0}function Y_(e,i,a){tc(e)&&a.delete(i)}function SA(){od=!1,Rr!==null&&tc(Rr)&&(Rr=null),Ir!==null&&tc(Ir)&&(Ir=null),Cr!==null&&tc(Cr)&&(Cr=null),rl.forEach(Y_),sl.forEach(Y_)}function ec(e,i){e.blockedOn===i&&(e.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SA)))}var nc=null;function X_(e){nc!==e&&(nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ad(o||a)===null)continue;break}var f=pi(a);f!==null&&(e.splice(i,3),i-=3,Xh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(e){function i(b){return ec(b,e)}Rr!==null&&ec(Rr,e),Ir!==null&&ec(Ir,e),Cr!==null&&ec(Cr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Dr.length;a++){var o=Dr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Dr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[ve]||null;if(typeof f=="function")y||X_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ve]||null)E=y.formAction;else if(ad(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),X_(a)}}}function ld(e){this._internalRoot=e}ic.prototype.render=ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=gn();j_(a,o,e,i,null,null)},ic.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&wa(),j_(e.current,2,null,e,null,null),zu(),i[gi]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var i=Gl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,e),a===0&&Q_(e)}};var $_=t.version;if($_!=="19.0.0")throw Error(s(527,$_,"19.0.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=$(i),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var bA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{$i=rc.inject(bA),je=rc}catch{}}return ul.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=dp,f=mp,y=gp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=B_(e,1,!1,null,null,a,o,h,f,y,E,null),e[gi]=i.current,Ff(e.nodeType===8?e.parentNode:e),new ld(i)},ul.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=dp,y=mp,E=gp,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=B_(e,1,!0,i,a??null,o,h,f,y,E,b,N),i.context=q_(null),a=i.current,o=gn(),h=yr(o),h.callback=null,vr(a,h,o),i.current.lanes=o,oe(i,o),si(i),e[gi]=i.current,Ff(e),new ic(i)},ul.version="19.0.0",ul}var ay;function PA(){if(ay)return hd.exports;ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=UA(),hd.exports}var kA=PA(),Lv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oy=Ns.createContext&&Ns.createContext(Lv),LA=["attr","size","title"];function xA(r,t){if(r==null)return{};var n=zA(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function zA(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Ac(){return Ac=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ac.apply(this,arguments)}function ly(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,s)}return n}function Sc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ly(Object(n),!0).forEach(function(s){BA(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function BA(r,t,n){return t=qA(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function qA(r){var t=jA(r,"string");return typeof t=="symbol"?t:t+""}function jA(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function xv(r){return r&&r.map((t,n)=>Ns.createElement(t.tag,Sc({key:n},t.attr),xv(t.child)))}function Hc(r){return t=>Ns.createElement(HA,Ac({attr:Sc({},r.attr)},t),xv(r.child))}function HA(r){var t=n=>{var{attr:s,size:l,title:c}=r,d=xA(r,LA),g=l||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Ns.createElement("svg",Ac({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:p,style:Sc(Sc({color:r.color||n.color},n.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Ns.createElement("title",null,c),r.children)};return oy!==void 0?Ns.createElement(oy.Consumer,null,n=>t(n)):t(Lv)}function GA(r){return Hc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function FA(r){return Hc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(r)}function KA(r){return Hc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(r)}function QA(r){return Hc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(r)}const YA=({id:r,title:t,content:n,date:s,handleDeleteNote:l,handleUpdateNote:c})=>{const[d,g]=en.useState(!1),[p,v]=en.useState(t),[A,I]=en.useState(n),P=()=>{g(!0)},q=()=>{p.trim().length>0&&A.trim().length>0&&(c(r,p,A),g(!1))};return Tt.jsxs("div",{className:"note",children:[d?Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("input",{type:"text",value:p,onChange:X=>v(X.target.value),placeholder:"Edit title...",className:"note-title-input"}),Tt.jsx("textarea",{rows:"8",cols:"10",value:A,onChange:X=>I(X.target.value),placeholder:"Edit content...",className:"note-textarea"})]}):Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("h3",{children:t}),Tt.jsx("p",{children:n})]}),Tt.jsxs("div",{className:"note-footer",children:[Tt.jsx("small",{children:new Date(s).toLocaleString()}),Tt.jsxs("div",{children:[d?Tt.jsx(KA,{onClick:q,className:"save-icon",size:"1.3em"}):Tt.jsx(QA,{onClick:P,className:"edit-icon",size:"1.3em"}),Tt.jsx(GA,{onClick:()=>l(r),className:"delete-icon",size:"1.3em"})]})]})]})},XA=({handleAddNote:r})=>{const[t,n]=en.useState(""),[s,l]=en.useState(""),c=200,d=v=>{c-v.target.value.length>=0&&n(v.target.value)},g=v=>{l(v.target.value)},p=()=>{t.trim().length>0&&s.trim().length>0&&(r({title:s,content:t}),n(""),l(""))};return Tt.jsxs("div",{className:"note new",children:[Tt.jsx("input",{type:"text",placeholder:"Note title...",value:s,onChange:g,className:"note-title-input"}),Tt.jsx("textarea",{rows:"8",cols:"10",className:"note-textarea",placeholder:"Type to add a note...",value:t,onChange:d}),Tt.jsxs("div",{className:"note-footer",children:[Tt.jsxs("small",{children:[c-t.length," Remaining"]}),Tt.jsx("button",{className:"save",onClick:p,children:"Save"})]})]})},$A=({notes:r,handleAddNote:t,handleDeleteNote:n,handleUpdateNote:s})=>Tt.jsxs("div",{className:"notes-list",children:[r.map(l=>Tt.jsx(YA,{id:l.id,title:l.title,content:l.content,date:l.createdTime,handleDeleteNote:n,handleUpdateNote:s},l.id)),Tt.jsx(XA,{handleAddNote:t})]}),ZA=({handleSearchNote:r})=>Tt.jsxs("div",{className:"search",children:[Tt.jsx(FA,{className:"search-icons",size:"1.3em"}),Tt.jsx("input",{onChange:t=>r(t.target.value),type:"text",placeholder:"type to search..."})]}),WA=({handleToggleDarkMode:r})=>Tt.jsxs("div",{className:"header",children:[Tt.jsx("h1",{children:"Notes"}),Tt.jsx("button",{onClick:()=>r(t=>!t),className:"save",children:"Toggle Mode"})]}),JA=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},tS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let P=(g&15)<<2|v>>6,q=v&63;p||(q=64,d||(P=64)),s.push(n[A],n[I],n[P],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(zv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):tS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const v=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||I==null)throw new eS;const P=c<<2|g>>4;if(s.push(P),v!==64){const q=g<<4&240|v>>2;if(s.push(q),I!==64){const X=v<<6&192|I;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(r){const t=zv(r);return Bv.encodeByteArray(t,!0)},bc=function(r){return nS(r).replace(/\./g,"")},qv=function(r){try{return Bv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof uy>"u")return;const r=uy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qv(r[1]);return t&&JSON.parse(t)},Gc=()=>{try{return JA()||rS()||sS()||aS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jv=r=>{var t,n;return(n=(t=Gc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},oS=r=>{const t=jv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Hv=()=>{var r;return(r=Gc())===null||r===void 0?void 0:r.config},Gv=r=>{var t;return(t=Gc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bc(JSON.stringify(n)),bc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function hS(){var r;const t=(r=Gc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="FirebaseError";class Qi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=vS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ES(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Qi(l,g,s)}}function ES(r,t){return r.replace(TS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const TS=/\{\$([^}]+)}/g;function AS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Us(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(cy(c)&&cy(d)){if(!Us(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function cy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function SS(r,t){const n=new bS(r,t);return n.subscribe.bind(n)}class bS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=gd),l.error===void 0&&(l.error=gd),l.complete===void 0&&(l.complete=gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new lS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CS(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(r){return r===Cs?void 0:r}function CS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const OS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},NS=Dt.INFO,VS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},MS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=VS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tm{constructor(t){this.name=t,this._logLevel=NS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const US=(r,t)=>t.some(n=>r instanceof n);let hy,fy;function PS(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,Id=new WeakMap,Kv=new WeakMap,pd=new WeakMap,em=new WeakMap;function LS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(kr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Fv.set(n,r)}).catch(()=>{}),em.set(t,r),t}function xS(r){if(Id.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Id.set(r,t)}let Cd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Id.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Kv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function zS(r){Cd=r(Cd)}function BS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(_d(this),t,...n);return Kv.set(s,t.sort?t.sort():[t]),kr(s)}:kS().includes(r)?function(...t){return r.apply(_d(this),t),kr(Fv.get(this))}:function(...t){return kr(r.apply(_d(this),t))}}function qS(r){return typeof r=="function"?BS(r):(r instanceof IDBTransaction&&xS(r),US(r,PS())?new Proxy(r,Cd):r)}function kr(r){if(r instanceof IDBRequest)return LS(r);if(pd.has(r))return pd.get(r);const t=qS(r);return t!==r&&(pd.set(r,t),em.set(t,r)),t}const _d=r=>em.get(r);function jS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=kr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(kr(d.result),p.oldVersion,p.newVersion,kr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const HS=["get","getKey","getAll","getAllKeys","count"],GS=["put","add","delete","clear"],yd=new Map;function dy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=GS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||HS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&p.done]))[0]};return yd.set(t,c),c}zS(r=>({...r,get:(t,n,s)=>dy(t,n)||r.get(t,n,s),has:(t,n)=>!!dy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",my="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new tm("@firebase/app"),QS="@firebase/app-compat",YS="@firebase/analytics-compat",XS="@firebase/analytics",$S="@firebase/app-check-compat",ZS="@firebase/app-check",WS="@firebase/auth",JS="@firebase/auth-compat",tb="@firebase/database",eb="@firebase/data-connect",nb="@firebase/database-compat",ib="@firebase/functions",rb="@firebase/functions-compat",sb="@firebase/installations",ab="@firebase/installations-compat",ob="@firebase/messaging",lb="@firebase/messaging-compat",ub="@firebase/performance",cb="@firebase/performance-compat",hb="@firebase/remote-config",fb="@firebase/remote-config-compat",db="@firebase/storage",mb="@firebase/storage-compat",gb="@firebase/firestore",pb="@firebase/vertexai",_b="@firebase/firestore-compat",yb="firebase",vb="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",Eb={[Dd]:"fire-core",[QS]:"fire-core-compat",[XS]:"fire-analytics",[YS]:"fire-analytics-compat",[ZS]:"fire-app-check",[$S]:"fire-app-check-compat",[WS]:"fire-auth",[JS]:"fire-auth-compat",[tb]:"fire-rtdb",[eb]:"fire-data-connect",[nb]:"fire-rtdb-compat",[ib]:"fire-fn",[rb]:"fire-fn-compat",[sb]:"fire-iid",[ab]:"fire-iid-compat",[ob]:"fire-fcm",[lb]:"fire-fcm-compat",[ub]:"fire-perf",[cb]:"fire-perf-compat",[hb]:"fire-rc",[fb]:"fire-rc-compat",[db]:"fire-gcs",[mb]:"fire-gcs-compat",[gb]:"fire-fst",[_b]:"fire-fst-compat",[pb]:"fire-vertex","fire-js":"fire-js",[yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,Tb=new Map,Nd=new Map;function gy(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function za(r){const t=r.name;if(Nd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const n of wc.values())gy(n,r);for(const n of Tb.values())gy(n,r);return!0}function nm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Il("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=vb;function Qv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Od,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Lr.create("bad-app-name",{appName:String(l)});if(n||(n=Hv()),!n)throw Lr.create("no-options");const c=wc.get(l);if(c){if(Us(n,c.options)&&Us(s,c.config))return c;throw Lr.create("duplicate-app",{appName:l})}const d=new DS(l);for(const p of Nd.values())d.addComponent(p);const g=new Sb(n,s,d);return wc.set(l,g),g}function Yv(r=Od){const t=wc.get(r);if(!t&&r===Od&&Hv())return Qv();if(!t)throw Lr.create("no-app",{appName:r});return t}function xr(r,t,n){var s;let l=(s=Eb[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}za(new Ps(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebase-heartbeat-database",wb=1,vl="firebase-heartbeat-store";let vd=null;function Xv(){return vd||(vd=jS(bb,wb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Lr.create("idb-open",{originalErrorMessage:r.message})})),vd}async function Rb(r){try{const n=(await Xv()).transaction(vl),s=await n.objectStore(vl).get($v(r));return await n.done,s}catch(t){if(t instanceof Qi)Hi.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}async function py(r,t){try{const s=(await Xv()).transaction(vl,"readwrite");await s.objectStore(vl).put(t,$v(r)),await s.done}catch(n){if(n instanceof Qi)Hi.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(s.message)}}}function $v(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=1024,Cb=30;class Db{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=_y();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Cb){const d=Vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_y(),{heartbeatsToSend:s,unsentEntries:l}=Ob(this._heartbeatsCache.heartbeats),c=bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Hi.warn(n),""}}}function _y(){return new Date().toISOString().substring(0,10)}function Ob(r,t=Ib){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yy(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),yy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return py(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return py(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function yy(r){return bc(JSON.stringify({version:2,heartbeats:r})).length}function Vb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){za(new Ps("platform-logger",t=>new FS(t),"PRIVATE")),za(new Ps("heartbeat",t=>new Db(t),"PRIVATE")),xr(Dd,my,r),xr(Dd,my,"esm2017"),xr("fire-js","")}Mb("");var vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,Zv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function S(){}S.prototype=w.prototype,M.D=w.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(C,V,L){for(var R=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)R[_e-2]=arguments[_e];return w.prototype[V].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)C[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=M.g[0],S=M.g[1],V=M.g[2];var L=M.g[3],R=w+(L^S&(V^L))+C[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+C[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+C[2]+606105819&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+C[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+C[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+C[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+C[6]+2821735955&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+C[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+C[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+C[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+C[10]+4294925233&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+C[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+C[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+C[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+C[14]+2792965006&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+C[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(V^L&(S^V))+C[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+C[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+C[11]+643717713&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+C[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+C[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+C[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+C[15]+3634488961&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+C[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+C[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+C[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+C[3]+4107603335&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+C[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+C[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+C[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+C[7]+1735328473&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+C[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(S^V^L)+C[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+C[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+C[11]+1839030562&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+C[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+C[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+C[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+C[7]+4139469664&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+C[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+C[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+C[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+C[3]+3572445317&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+C[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+C[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+C[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+C[15]+530742520&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+C[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(V^(S|~L))+C[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+C[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+C[14]+2878612391&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+C[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+C[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+C[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+C[10]+4293915773&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+C[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+C[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+C[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+C[6]+2734768916&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+C[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+C[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+C[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+C[2]+718787259&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var S=w-this.blockSize,C=this.B,V=this.h,L=0;L<w;){if(V==0)for(;L<=S;)l(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(C[V++]=M.charCodeAt(L++),V==this.blockSize){l(this,C),V=0;break}}else for(;L<w;)if(C[V++]=M[L++],V==this.blockSize){l(this,C),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var S=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=S&255,S/=256;for(this.u(M),M=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)M[S++]=this.g[w]>>>C&255;return M};function c(M,w){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=w(M)}function d(M,w){this.h=w;for(var S=[],C=!0,V=M.length-1;0<=V;V--){var L=M[V]|0;C&&L==w||(S[V]=L,C=!1)}this.g=S}var g={};function p(M){return-128<=M&&128>M?c(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return K(v(-M));for(var w=[],S=1,C=0;M>=S;C++)w[C]=M/S|0,S*=4294967296;return new d(w,0)}function A(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return K(A(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(w,8)),C=I,V=0;V<M.length;V+=8){var L=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+L),w);8>L?(L=v(Math.pow(w,L)),C=C.j(L).add(v(R))):(C=C.j(S),C=C.add(v(R)))}return C}var I=p(0),P=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-K(this).m();for(var M=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);M+=(0<=C?C:4294967296+C)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(W(this))return"-"+K(this).toString(M);for(var w=v(Math.pow(M,6)),S=this,C="";;){var V=Lt(S,w).g;S=st(S,V.j(w));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,X(S))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=st(this,M),W(M)?-1:X(M)?0:1};function K(M){for(var w=M.g.length,S=[],C=0;C<w;C++)S[C]=~M.g[C];return new d(S,~M.h).add(P)}r.abs=function(){return W(this)?K(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0,V=0;V<=w;V++){var L=C+(this.i(V)&65535)+(M.i(V)&65535),R=(L>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=R>>>16,L&=65535,R&=65535,S[V]=R<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function st(M,w){return M.add(K(w))}r.j=function(M){if(X(this)||X(M))return I;if(W(this))return W(M)?K(this).j(K(M)):K(K(this).j(M));if(W(M))return K(this.j(K(M)));if(0>this.l(q)&&0>M.l(q))return v(this.m()*M.m());for(var w=this.g.length+M.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var L=this.i(C)>>>16,R=this.i(C)&65535,_e=M.i(V)>>>16,ce=M.i(V)&65535;S[2*C+2*V]+=R*ce,ut(S,2*C+2*V),S[2*C+2*V+1]+=L*ce,ut(S,2*C+2*V+1),S[2*C+2*V+1]+=R*_e,ut(S,2*C+2*V+1),S[2*C+2*V+2]+=L*_e,ut(S,2*C+2*V+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new d(S,0)};function ut(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function ft(M,w){this.g=M,this.h=w}function Lt(M,w){if(X(w))throw Error("division by zero");if(X(M))return new ft(I,I);if(W(M))return w=Lt(K(M),w),new ft(K(w.g),K(w.h));if(W(w))return w=Lt(M,K(w)),new ft(K(w.g),w.h);if(30<M.g.length){if(W(M)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var S=P,C=w;0>=C.l(M);)S=pt(S),C=pt(C);var V=Ct(S,1),L=Ct(C,1);for(C=Ct(C,2),S=Ct(S,2);!X(C);){var R=L.add(C);0>=R.l(M)&&(V=V.add(S),L=R),C=Ct(C,1),S=Ct(S,1)}return w=st(M,V.j(w)),new ft(V,w)}for(V=I;0<=M.l(w);){for(S=Math.max(1,Math.floor(M.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=v(S),R=L.j(w);W(R)||0<R.l(M);)S-=C,L=v(S),R=L.j(w);X(L)&&(L=P),V=V.add(L),M=st(M,R)}return new ft(V,M)}r.A=function(M){return Lt(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&M.i(C);return new d(S,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|M.i(C);return new d(S,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^M.i(C);return new d(S,this.h^M.h)};function pt(M){for(var w=M.g.length+1,S=[],C=0;C<w;C++)S[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(S,M.h)}function Ct(M,w){var S=w>>5;w%=32;for(var C=M.g.length-S,V=[],L=0;L<C;L++)V[L]=0<w?M.i(L+S)>>>w|M.i(L+S+1)<<32-w:M.i(L+S);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Zv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,zr=d}).apply(typeof vy<"u"?vy:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wv,cl,Jv,fc,Vd,tE,eE,nE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function P(u,m,_){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,P.apply(null,arguments)}function q(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var Z=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Z[Mt-2]=arguments[Mt];return m.prototype[k].apply(T,Z)}}function W(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function K(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let Z=0;Z<B;Z++)u[k+Z]=T[Z]}else u.push(T)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var pt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Ct(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<S.length;B++)_=S[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function R(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new st(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,jt=new _e,D=()=>{const u=g.Promise.resolve(void 0);mt=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){L(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function bt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Lt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}X(bt,tt);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ne(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++xt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,m,_,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var Z=_n(u,m,T,k);return-1<Z?(m=u[Z],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function fi(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _n(u,m,_,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Xi={};function di(u,m,_,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)di(u,m[B],_,T,k);return null}return _=xl(_),u&&u[he]?u.K(m,_,v(T)?!!T.capture:!1,k):no(u,m,_,!1,T,k)}function no(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");var Z=v(k)?!!k.capture:!!k,Mt=io(u);if(Mt||(u[Yi]=Mt=new Xe(u)),_=Mt.add(m,_,T,Z,B),_.proxy)return _;if(T=qs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)et||(k=Z),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Hs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qs(){function u(_){return m.call(u.src,u.listener,_)}const m=ch;return u}function js(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)js(u,m[B],_,T,k);else T=v(T)?!!T.capture:!!T,_=xl(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=_n(B,_,T,k),-1<_&&(Ft(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=io(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,_,T,k)),(_=-1<u?m[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])fi(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Hs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=io(m))?(fi(_,u),_.h==0&&(_.src=null,m[Yi]=null)):Ft(u)}}}function Hs(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function ch(u,m){if(u.da)u=!0;else{m=new bt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=_.call(T,m)}return u}function io(u){return u=u[Yi],u instanceof Xe?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function ye(){ot.call(this),this.i=new Xe(this),this.M=this,this.F=null}X(ye,ot),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){js(this,u,m,_,T)};function Re(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var k=m;m=new tt(T,u),C(m,k)}if(k=!0,_)for(var B=_.length-1;0<=B;B--){var Z=m.g=_[B];k=mi(Z,T,!0,m)&&k}if(Z=m.g=u,k=mi(Z,T,!0,m)&&k,k=mi(Z,T,!1,m)&&k,_)for(B=0;B<_.length;B++)Z=m.g=_[B],k=mi(Z,T,!1,m)&&k}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Ft(_[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function mi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var Z=m[B];if(Z&&!Z.da&&Z.capture==_){var Mt=Z.listener,Ee=Z.ha||Z.src;Z.fa&&fi(u.i,Z),k=Mt.call(Ee,T)!==!1&&k}}return k&&!T.defaultPrevented}function zl(u,m,_){if(typeof u=="function")_&&(u=P(u,_));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ro(u){u.g=zl(()=>{u.g=null,u.i&&(u.i=!1,ro(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hh extends ot{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){ot.call(this),this.h=u,this.g={}}X(Zr,ot);var $i=[];function je(u){Ct(u.g,function(m,_){this.g.hasOwnProperty(_)&&$r(m)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),je(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=g.JSON.stringify,Gn=g.JSON.parse,$e=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function Bl(u){return u.h||(u.h=u.i())}function ql(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){tt.call(this,"d")}X(Zi,tt);function Un(){tt.call(this,"c")}X(Un,tt);var yn={},Wi=null;function Gs(){return Wi=Wi||new ye}yn.La="serverreachability";function oo(u){tt.call(this,yn.La,u)}X(oo,tt);function Ji(u){const m=Gs();Re(m,new oo(m))}yn.STAT_EVENT="statevent";function Fs(u,m){tt.call(this,yn.STAT_EVENT,u),this.stat=m}X(Fs,tt);function oe(u){const m=Gs();Re(m,new Fs(m,u))}yn.Ma="timingevent";function jl(u,m){tt.call(this,yn.Ma,u),this.size=m}X(jl,tt);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Hl(u,m,_,T,k,B){u.info(function(){if(u.g)if(B)for(var Z="",Mt=B.split("&"),Ee=0;Ee<Mt.length;Ee++){var Ut=Mt[Ee].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var Te=De.split("_");Z=2<=Te.length&&Te[1]=="type"?Z+(De+"="+Ut+"&"):Z+(De+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+Z})}function Gl(u,m,_,T,k,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+Z})}function nr(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,_)+(T?" "+T:"")})}function Kn(u,m){u.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return so(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Ks(){}X(Ks,ao),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Wr=new Ks;function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lo}function lo(){this.i=null,this.g="",this.h=!1}var ir={},Jr={};function Pn(u,m,_){u.L=1,u.v=ns(ie(m)),u.m=_,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vi(_.i,"t",T),u.C=0,_=u.j.J,u.h=new lo,u.g=ru(u.j,_?m:null,!u.m),0<u.O&&(u.M=new hh(P(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&($i[0]=k.toString()),k=$i);for(var B=0;B<k.length;B++){var Z=di(_,k[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),Hl(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Sn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Si?Ji(3):Ji(2)),Qs(this);var _=this.g.Z();this.X=_;e:if(rr(this)){var T=$l(this.g);u="";var k=T.length,B=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),un(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,Gl(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Mt)){var Ut=Mt;break e}}Ut=null}if(_=Ut)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,oe(12),rn(this),un(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<Z.length;)if(Pe=sr(this,Z),Pe==Jr){Te==4&&(this.s=4,oe(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==ir){this.s=4,oe(15),nr(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Pe,null),cn(this,Pe);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||Z.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,Z,"[Invalid Chunked Response]"),rn(this),un(this);else if(0<Z.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),us(De),De.M=!0,oe(11))}}else nr(this.i,this.l,Z,null),cn(this,Z);Te==4&&rn(this),this.o&&!this.J&&(Te==4?eu(this.j,this):(this.o=!1,Wt(this)))}else _h(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),un(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Jr:(_=Number(m.substring(_,T)),isNaN(_)?ir:(T+=1,T+_>m.length?Jr:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.J=!0,rn(this)};function Wt(u){u.S=Date.now()+u.I,uo(u,u.I)}function uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(P(u.ba,u),m)}function Qs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),rn(this),this.s=2,un(this)):uo(this,this.S-u)};function un(u){u.j.G==0||u.J||eu(u.j,u)}function rn(u){Qs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,je(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function cn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ar(_.h,u))){if(!u.K&&ar(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ia(_),ea(_);else break t;To(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=tr(P(_.Za,_),6e3));if(1>=Fl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&ia(_),!ut(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Ut=k[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const De=Ut[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Te=Ut[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Si=Ut[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pe=u.g;if(Pe){const ti=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var B=T.h;B.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(or(B,B.h),B.h=null))}if(T.D){const So=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,zt(T.I,T.D,So))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var Z=u;if(T.qa=iu(T,T.J?T.ia:null,T.W),Z.K){vn(T.h,Z);var Mt=Z,Ee=T.L;Ee&&(Mt.I=Ee),Mt.B&&(Qs(Mt),Wt(Mt)),T.g=Z}else Jl(T);0<_.i.length&&na(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ai(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ai(_,7):vo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ji(4)}catch{}}var fh=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fl(u){return u.h?1:u.g?u.g.size:0}function ar(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function or(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ze(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return W(u.i)}function Kl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function dh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function ts(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=dh(u),T=Kl(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],_&&_[B],u)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var B=u[_].substring(0,T);k=u[_].substring(T+1)}else B=u[_];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,lr(this,u.j),this.o=u.o,this.g=u.g,es(this,u.s),this.l=u.l;var m=u.i,_=new Yn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Xs(this,_),this.m=u.m}else u&&(m=String(u).match(fo))?(this.h=!1,lr(this,m[1]||"",!0),this.o=ur(m[2]||""),this.g=ur(m[3]||"",!0),es(this,m[4]),this.l=ur(m[5]||"",!0),Xs(this,m[6]||"",!0),this.m=ur(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,mo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,mo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(En(_,_.charAt(0)=="/"?go:Ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",En(_,ph)),u.join("")};function ie(u){return new _i(u)}function lr(u,m,_){u.j=_?ur(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function es(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Xs(u,m,_){m instanceof Yn?(u.i=m,po(u.i,u.h)):(_||(m=En(m,gh)),u.i=new Yn(m,u.h))}function zt(u,m,_){u.i.set(m,_)}function ns(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,mh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,Ql=/[#\?:]/g,go=/[#\?]/g,gh=/[#\?@]/g,ph=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ys(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Yn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ei(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $s(u,m){Tn(u),m=Ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return Tn(u),m=Ei(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)_.push(m[T])}return _},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Ei(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vi(u,m,_){$s(u,m),0<_.length&&(u.i=null,u.g.set(Ei(u,m),W(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var k=B;Z[T]!==""&&(k+="="+encodeURIComponent(String(Z[T]))),u.push(k)}}return this.i=u.join("&")};function Ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function po(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&($s(this,T),vi(this,k,_))},u)),u.j=m}function Yl(u,m){const _=new er;if(g.Image){const T=new Image;T.onload=q(An,_,"TestLoadImage: loaded",!0,m,T),T.onerror=q(An,_,"TestLoadImage: error",!1,m,T),T.onabort=q(An,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(An,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function is(u,m){const _=new er,T=new AbortController,k=setTimeout(()=>{T.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function rs(){this.g=new $e}function Xn(u,m,_){const T=_||"";try{ts(u,function(k,B){let Z=k;v(k)&&(Z=so(k)),m.push(T+B+"="+encodeURIComponent(Z))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}X(cr,ao),cr.prototype.g=function(){return new Ti(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ti,ye),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&_o(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return Ct(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=yo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,m,_))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Ht,ye);var Zs=/^https?$/i,ss=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Bl(this.o):Bl(Wr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Xl(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Xl(this,B)}};function Xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ws(u),Wn(u)}function Ws(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)zl(u.Ea,0,u);else if(Re(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=Z===0){var k=String(u.D).match(fo)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Zs.test(k?k.toLowerCase():"")}_=T}if(_)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var B=2<Sn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ws(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){as(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{_.onreadystatechange=T}catch{}}}function as(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gn(m)}};function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var _=V(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ta(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,u),this.cb=os("retryDelaySeedMs",1e4,u),this.Wa=os("forwardChannelMaxRetries",2,u),this.wa=os("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new co(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=iu(this,null,this.W),na(this)};function vo(u){if(Zl(u),u.G==3){var m=u.U++,_=ie(u.I);if(zt(_,"SID",u.K),zt(_,"RID",m),zt(_,"TYPE","terminate"),ls(u,_),m=new Qn(u,u.j,m),m.L=2,m.v=ns(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}nu(u)}function ea(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function Zl(u){ea(u),u.u&&(g.clearTimeout(u.u),u.u=null),ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function na(u){if(!ho(u.h)&&!u.s){u.s=!0;var m=u.Ga;mt||D(),ct||(mt(),ct=!0),jt.add(m,u),u.B=0}}function yh(u,m){return Fl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(P(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Qn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Wl(this,k,m),_=ie(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),ls(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(yo(B)))+"&"+m:this.m&&Ce(_,this.m,B)),or(this.h,k),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",m),zt(_,"SID","null"),k.T=!0,Pn(k,_,null)):Pn(k,_,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||ho(this.h)||Eo(this))};function Eo(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);zt(T,"SID",u.K),zt(T,"RID",_),zt(T,"AID",u.T),ls(u,T),u.m&&u.o&&Ce(T,u.m,u.o),_=new Qn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),or(u.h,_),Pn(_,T,m)}function ls(u,m){u.H&&Ct(u.H,function(_,T){zt(m,T,_)}),u.l&&ts({},function(_,T){zt(m,T,_)})}function Wl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?P(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const Z=["count="+_];B==-1?0<_?(B=k[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let Ut=k[Ee].g;const De=k[Ee].map;if(Ut-=B,0>Ut)B=Math.max(0,k[Ee].g-100),Mt=!1;else try{Xn(De,Z,"req"+Ut+"_")}catch{T&&T(De)}}if(Mt){T=Z.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Jl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;mt||D(),ct||(mt(),ct=!0),jt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(P(u.Fa,u),Ao(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(P(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ea(this),tu(this))};function us(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),ls(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ns(ie(m)),_.m=null,_.P=!0,pi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),To(this),oe(19))};function ia(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function eu(u,m){var _=null;if(u.g==m){ia(u),us(u),u.g=null;var T=2}else if(ar(u.h,m))_=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Gs(),Re(T,new jl(T,_)),na(u)}else Jl(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&yh(u,m)||T==2&&To(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function Ao(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=P(u.fb,u),T=u.Xa;const k=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||lr(T,"https"),ns(T),k?Yl(T.toString(),_):is(T.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),nu(u),Zl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const m=Ze(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,_){var T=_ instanceof _i?ie(_):new _i(_);if(T.g!="")m&&(T.g=m+"."+T.g),es(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new _i(null);T&&lr(B,T),m&&(B.g=m),k&&es(B,k),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&zt(T,_,m),zt(T,"VER",u.la),ls(u,T),T}function ru(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new cr({eb:_})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}X(We,ye),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){vo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=so(u),u=_);m.i.push(new fh(m.Ya++,u)),m.G==3&&na(m)},We.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,We.aa.N.call(this)};function au(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(au,Zi);function ou(){Un.call(this),this.status=1}X(ou,Un);function Jn(u){this.g=u}X(Jn,su),Jn.prototype.ua=function(){Re(this.g,"a")},Jn.prototype.ta=function(u){Re(this.g,new au(u))},Jn.prototype.sa=function(u){Re(this.g,new ou)},Jn.prototype.ra=function(){Re(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,nE=function(){return new ra},eE=function(){return Gs()},tE=yn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,fc=ve,gi.COMPLETE="complete",Jv=gi,ql.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,cl=ql,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Wv=Ht}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const Ey="@firebase/firestore",Ty="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new tm("@firebase/firestore");function Na(){return ks.logLevel}function nt(r,...t){if(ks.logLevel<=Dt.DEBUG){const n=t.map(im);ks.debug(`Firestore (${$a}): ${r}`,...n)}}function Gi(r,...t){if(ks.logLevel<=Dt.ERROR){const n=t.map(im);ks.error(`Firestore (${$a}): ${r}`,...n)}}function Ba(r,...t){if(ks.logLevel<=Dt.WARN){const n=t.map(im);ks.warn(`Firestore (${$a}): ${r}`,...n)}}function im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r="Unexpected state"){const t=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+r;throw Gi(t),new Error(t)}function Gt(r,t){r||gt()}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class Pb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kb{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vs,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vs)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new iE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Ke(t)}}class Lb{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xb{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Lb(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ay{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zb{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ay(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new Ay(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Bb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function qa(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,by=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*by);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Sy)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Sy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new be(0,0))}static max(){return new yt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(),s===void 0?s=t.length-n:s>t.length-n&&gt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(t).compare(ai.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class Zt extends ai{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ai{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return qb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wy}static keyField(){return new Be([wy])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Zt.fromString(t))}static fromName(t){return new ht(Zt.fromString(t).popFirst(5))}static empty(){return new ht(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function jb(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new jr(l,ht.empty(),t)}function Hb(r){return new jr(r.readTime,r.key,El)}class jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(yt.min(),ht.empty(),El)}static max(){return new jr(yt.max(),ht.empty(),El)}}function Gb(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==Fb)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,s)=>{n(t)})}static reject(t){return new F((n,s)=>{s(t)})}static waitFor(t){return new F((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=F.resolve(!1);for(const s of t)n=n.next(l=>l?F.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new F((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new F((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function Qb(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Fc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Kc(r){return r==null}function Rc(r){return r===0&&1/r==-1/0}function Yb(r){return typeof r=="number"&&Number.isInteger(r)&&!Rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function Xb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Ry(t)),t=$b(r.get(n),t);return Ry(t)}function $b(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case sE:n+="";break;default:n+=c}}return n}function Ry(r){return r+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Yr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function aE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ac(this.root,t,this.comparator,!0)}}class ac{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(t){return new Cy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class Cy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new pn([])}unionWith(t){let n=new we(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=Zb.exec(r);if(Gt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function sm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[uE])===null||n===void 0?void 0:n.stringValue)===lE}function Qc(r){const t=r.mapValue.fields[cE];return sm(t)?Qc(t):t}function Tl(r){const t=Hr(r.mapValue.fields[hE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n,s,l,c,d,g,p,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const Ic="(default)";class Al{constructor(t,n){this.projectId=t,this.database=n||Ic}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof Al&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__type__",Jb="__max__",oc={mapValue:{}},dE="__vector__",Cc="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sm(r)?4:ew(r)?9007199254740991:tw(r)?10:11:gt()}function ci(r,t){if(r===t)return!0;const n=Fr(r);if(n!==Fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Tl(r).isEqual(Tl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Hr(l.timestampValue),g=Hr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Gr(l.bytesValue).isEqual(Gr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?Rc(d)===Rc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return qa(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Iy(d)!==Iy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0}(r,t);default:return gt()}}function Sl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function ja(r,t){if(r===t)return 0;const n=Fr(r),s=Fr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Dy(r.timestampValue,t.timestampValue);case 4:return Dy(Tl(r),Tl(t));case 5:return Vt(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Gr(c),p=Gr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Vt(g[v],p[v]);if(A!==0)return A}return Vt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Vt(ue(c.latitude),ue(d.latitude));return g!==0?g:Vt(ue(c.longitude),ue(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Oy(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const I=c.fields||{},P=d.fields||{},q=(g=I[Cc])===null||g===void 0?void 0:g.arrayValue,X=(p=P[Cc])===null||p===void 0?void 0:p.arrayValue,W=Vt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:Oy(q,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===oc.mapValue&&d===oc.mapValue)return 0;if(c===oc.mapValue)return 1;if(d===oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const P=Vt(p[I],A[I]);if(P!==0)return P;const q=ja(g[p[I]],v[A[I]]);if(q!==0)return q}return Vt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw gt()}}function Dy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=Hr(r),s=Hr(t),l=Vt(n.seconds,s.seconds);return l!==0?l:Vt(n.nanos,s.nanos)}function Oy(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=ja(n[l],s[l]);if(c)return c}return Vt(n.length,s.length)}function Ha(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Md(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Md(n.fields[d])}`;return l+"}"}(r.mapValue):gt()}function dc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qc(r);return t?16+dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+dc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Yr(s.fields,(c,d)=>{l+=c.length+dc(d)}),l}(r.mapValue);default:throw gt()}}function Ny(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ud(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function Vy(r){return!!r&&"nullValue"in r}function My(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mc(r){return!!r&&"mapValue"in r}function tw(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[fE])===null||n===void 0?void 0:n.stringValue)===dE}function ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=ml(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ml(r.arrayValue.values[n]);return t}return Object.assign({},r)}function ew(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Jb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Yr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new on(ml(this.value))}}function mE(r){const t=[];return Yr(r.fields,(n,s)=>{const l=new Be([n]);if(mc(s)){const c=mE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,yt.min(),yt.min(),yt.min(),on.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,yt.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,yt.min(),yt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,yt.min(),yt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n){this.position=t,this.inclusive=n}}function Uy(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=ja(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Py(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n="asc"){this.field=t,this.dir=n}}function nw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class pe extends gE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new rw(t,n,s):n==="array-contains"?new ow(t,s):n==="in"?new lw(t,s):n==="not-in"?new uw(t,s):n==="array-contains-any"?new cw(t,s):new pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new sw(t,s):new aw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ja(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends gE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Hn(t,n)}matches(t){return pE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pE(r){return r.op==="and"}function _E(r){return iw(r)&&pE(r)}function iw(r){for(const t of r.filters)if(t instanceof Hn)return!1;return!0}function Pd(r){if(r instanceof pe)return r.field.canonicalString()+r.op.toString()+Ha(r.value);if(_E(r))return r.filters.map(t=>Pd(t)).join(",");{const t=r.filters.map(n=>Pd(n)).join(",");return`${r.op}(${t})`}}function yE(r,t){return r instanceof pe?function(s,l){return l instanceof pe&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,t):r instanceof Hn?function(s,l){return l instanceof Hn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&yE(d,l.filters[g]),!0):!1}(r,t):void gt()}function vE(r){return r instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(vE).join(" ,")+"}"}(r):"Filter"}class rw extends pe{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class sw extends pe{constructor(t,n){super(t,"in",n),this.keys=EE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class aw extends pe{constructor(t,n){super(t,"not-in",n),this.keys=EE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function EE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class ow extends pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return am(n)&&Sl(n.arrayValue,this.value)}}class lw extends pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class uw extends pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Sl(this.value.arrayValue,n)}}class cw extends pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Sl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function ky(r,t=null,n=[],s=[],l=null,c=null,d=null){return new hw(r,t,n,s,l,c,d)}function om(r){const t=Et(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Pd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ha(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ha(s)).join(",")),t.le=n}return t.le}function lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Py(r.startAt,t.startAt)&&Py(r.endAt,t.endAt)}function kd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fw(r,t,n,s,l,c,d,g){return new Dl(r,t,n,s,l,c,d,g)}function um(r){return new Dl(r)}function Ly(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TE(r){return r.collectionGroup!==null}function gl(r){const t=Et(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new Oc(c,s))}),n.has(Be.keyField().canonicalString())||t.he.push(new Oc(Be.keyField(),s))}return t.he}function oi(r){const t=Et(r);return t.Pe||(t.Pe=dw(t,gl(r))),t.Pe}function dw(r,t){if(r.limitType==="F")return ky(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Oc(l.field,c)});const n=r.endAt?new Dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dc(r.startAt.position,r.startAt.inclusive):null;return ky(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Ld(r,t){const n=r.filters.concat([t]);return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function xd(r,t,n){return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Yc(r,t){return lm(oi(r),oi(t))&&r.limitType===t.limitType}function AE(r){return`${om(oi(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>vE(l)).join(", ")}]`),Kc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ha(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ha(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Xc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=Uy(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,gl(s),l)||s.endAt&&!function(d,g,p){const v=Uy(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,gl(s),l))}(r,t)}function mw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function SE(r){return(t,n)=>{let s=!1;for(const l of gl(r)){const c=gw(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function gw(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?ja(p,v):gt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new ee(ht.comparator);function Fi(){return pw}const bE=new ee(ht.comparator);function hl(...r){let t=bE;for(const n of r)t=t.insert(n.key,n);return t}function wE(r){let t=bE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ds(){return pl()}function RE(){return pl()}function pl(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const _w=new ee(ht.comparator),yw=new we(ht.comparator);function Ot(...r){let t=yw;for(const n of r)t=t.add(n);return t}const vw=new we(Vt);function Ew(){return vw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(t)?"-0":t}}function IE(r){return{integerValue:""+r}}function Tw(r,t){return Yb(t)?IE(t):cm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function Aw(r,t,n){return r instanceof Nc?function(l,c){const d={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&sm(c)&&(c=Qc(c)),c&&(d.fields[cE]=c),{mapValue:d}}(n,t):r instanceof bl?DE(r,t):r instanceof wl?OE(r,t):function(l,c){const d=CE(l,c),g=xy(d)+xy(l.Ie);return Ud(d)&&Ud(l.Ie)?IE(g):cm(l.serializer,g)}(r,t)}function Sw(r,t,n){return r instanceof bl?DE(r,t):r instanceof wl?OE(r,t):n}function CE(r,t){return r instanceof Vc?function(s){return Ud(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Nc extends $c{}class bl extends $c{constructor(t){super(),this.elements=t}}function DE(r,t){const n=NE(t);for(const s of r.elements)n.some(l=>ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class wl extends $c{constructor(t){super(),this.elements=t}}function OE(r,t){let n=NE(t);for(const s of r.elements)n=n.filter(l=>!ci(l,s));return{arrayValue:{values:n}}}class Vc extends $c{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function xy(r){return ue(r.integerValue||r.doubleValue)}function NE(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bw(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof bl&&l instanceof bl||s instanceof wl&&l instanceof wl?qa(s.elements,l.elements,ci):s instanceof Vc&&l instanceof Vc?ci(s.Ie,l.Ie):s instanceof Nc&&l instanceof Nc}(r.transform,t.transform)}class ww{constructor(t,n){this.version=t,this.transformResults=n}}class qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qn}static exists(t){return new qn(void 0,t)}static updateTime(t){return new qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zc{}function VE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new hm(r.key,qn.none()):new Ol(r.key,r.data,qn.none());{const n=r.data,s=on.empty();let l=new we(Be.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Xr(r.key,s,new pn(l.toArray()),qn.none())}}function Rw(r,t,n){r instanceof Ol?function(l,c,d){const g=l.value.clone(),p=By(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Xr?function(l,c,d){if(!gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=By(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(ME(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function _l(r,t,n,s){return r instanceof Ol?function(c,d,g,p){if(!gc(c.precondition,d))return g;const v=c.value.clone(),A=qy(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,n,s):r instanceof Xr?function(c,d,g,p){if(!gc(c.precondition,d))return g;const v=qy(c.fieldTransforms,p,d),A=d.data;return A.setAll(ME(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,g){return gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function Iw(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=CE(s.transform,l||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function zy(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&qa(s,l,(c,d)=>bw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ol extends Zc{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xr extends Zc{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ME(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function By(r,t,n){const s=new Map;Gt(r.length===n.length);for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Sw(d,g,n[l]))}return s}function qy(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,Aw(c,d,t))}return s}class hm extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cw extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Rw(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=_l(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=_l(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=RE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=VE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,(n,s)=>zy(n,s))&&qa(this.baseMutations,t.baseMutations,(n,s)=>zy(n,s))}}class fm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length);let l=function(){return _w}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new fm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,kt;function Vw(r){switch(r){case Q.OK:return gt();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return gt()}}function UE(r){if(r===void 0)return Gi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case ge.OK:return Q.OK;case ge.CANCELLED:return Q.CANCELLED;case ge.UNKNOWN:return Q.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Q.INTERNAL;case ge.UNAVAILABLE:return Q.UNAVAILABLE;case ge.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ge.NOT_FOUND:return Q.NOT_FOUND;case ge.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ge.ABORTED:return Q.ABORTED;case ge.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ge.DATA_LOSS:return Q.DATA_LOSS;default:return gt()}}(kt=ge||(ge={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new zr([4294967295,4294967295],0);function jy(r){const t=Mw().encode(r),n=new Zv;return n.update(t),new Uint8Array(n.digest())}function Hy(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new zr([n,s],0),new zr([l,c],0)]}class dm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=zr.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(zr.fromNumber(s)));return l.compare(Uw)===1&&(l=new zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=jy(t),[s,l]=Hy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new dm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const n=jy(t),[s,l]=Hy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Nl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wc(yt.min(),l,new ee(Vt),Fi(),Ot())}}class Nl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class PE{constructor(t,n){this.targetId=t,this.ge=n}}class kE{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Gy{constructor(){this.pe=0,this.ye=Fy(),this.we=qe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),s=Ot();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt()}}),new Nl(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=Fy()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Pw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Fi(),this.$e=lc(),this.Ke=lc(),this.Ue=new ee(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:gt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(kd(c))if(s===0){const d=new ht(c.path);this.ze(n,d,Qe.newNoDocument(d,yt.min()))}else Gt(s===1);else{const d=this.et(n);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,v)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Gr(s).toUint8Array()}catch(p){if(p instanceof oE)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new dm(d,l,c)}catch(p){return Ba(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&kd(g.target)){const p=new ht(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Qe.newNoDocument(p,t))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let s=Ot();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Wc(t,n,this.Ue,this.Qe,s);return this.Qe=Fi(),this.$e=lc(),this.Ke=lc(),this.Ue=new ee(Vt),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Gy,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new we(Vt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Gy),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function lc(){return new ee(ht.comparator)}function Fy(){return new ee(ht.comparator)}const kw={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xw={and:"AND",or:"OR"};class zw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zd(r,t){return r.useProto3Json||Kc(t)?t:{value:t}}function Mc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Bw(r,t){return Mc(r,t.toTimestamp())}function li(r){return Gt(!!r),yt.fromTimestamp(function(n){const s=Hr(n);return new be(s.seconds,s.nanos)}(r))}function mm(r,t){return Bd(r,t).canonicalString()}function Bd(r,t){const n=function(l){return new Zt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function xE(r){const t=Zt.fromString(r);return Gt(HE(t)),t}function qd(r,t){return mm(r.databaseId,t.path)}function Ed(r,t){const n=xE(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(BE(n))}function zE(r,t){return mm(r.databaseId,t)}function qw(r){const t=xE(r);return t.length===4?Zt.emptyPath():BE(t)}function jd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ky(r,t,n){return{name:qd(r,t),fields:n.value.mapValue.fields}}function jw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Q.UNKNOWN:UE(v.code);return new rt(A,v.message||"")}(d);n=new kE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ed(r,s.document.name),c=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):yt.min(),g=new on({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];n=new pc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ed(r,s.document),c=s.readTime?li(s.readTime):yt.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ed(r,s.document),c=s.removedTargetIds||[];n=new pc([],c,l,null)}else{if(!("filter"in t))return gt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Nw(l,c),g=s.targetId;n=new PE(g,d)}}return n}function Hw(r,t){let n;if(t instanceof Ol)n={update:Ky(r,t.key,t.value)};else if(t instanceof hm)n={delete:qd(r,t.key)};else if(t instanceof Xr)n={update:Ky(r,t.key,t.data),updateMask:Ww(t.fieldMask)};else{if(!(t instanceof Cw))return gt();n={verify:qd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Bw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt()}(r,t.precondition)),n}function Gw(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(l,c){let d=l.updateTime?li(l.updateTime):li(c);return d.isEqual(yt.min())&&(d=li(c)),new ww(d,l.transformResults||[])}(n,t))):[]}function Fw(r,t){return{documents:[zE(r,t.path)]}}function Kw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zE(r,l);const c=function(v){if(v.length!==0)return jE(Hn.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(P){return{field:Ma(P.field),direction:Xw(P.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=zd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:n,parent:l}}function Qw(r){let t=qw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const P=qE(I);return P instanceof Hn&&_E(P)?P.getFilters():[P]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(P=>function(X){return new Oc(Ua(X.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(P))}(n.orderBy));let g=null;n.limit&&(g=function(I){let P;return P=typeof I=="object"?I.value:I,Kc(P)?null:P}(n.limit));let p=null;n.startAt&&(p=function(I){const P=!!I.before,q=I.values||[];return new Dc(q,P)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const P=!I.before,q=I.values||[];return new Dc(q,P)}(n.endAt)),fw(t,l,d,c,g,"F",p,v)}function Yw(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(n.unaryFilter.field);return pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(n.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(r):r.fieldFilter!==void 0?function(n){return pe.create(Ua(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>qE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt()}}(n.compositeFilter.op))}(r):gt()}function Xw(r){return kw[r]}function $w(r){return Lw[r]}function Zw(r){return xw[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Be.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof pe?function(n){if(n.op==="=="){if(My(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(My(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:$w(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(l=>jE(l));return s.length===1?s[0]:{compositeFilter:{op:Zw(n.op),filters:s}}}(r):gt()}function Ww(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,l,c=yt.min(),d=yt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.Tt=t}}function tR(r){const t=Qw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.Tn=new nR}addToCollectionParentIndex(t,n){return this.Tn.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(jr.min())}updateCollectionGroup(t,n,s){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class nR{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(Zt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(GE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Ga(0)}static Un(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LruGarbageCollector",iR=1048576;function Xy([r,t],[n,s]){const l=Vt(r,n);return l===0?Vt(t,s):l}class rR{constructor(t){this.Hn=t,this.buffer=new we(Xy),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xy(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(Yy,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?nt(Yy,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.er(3e5)})}}class aR{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return F.resolve(Fc.ae);const s=new rR(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Qy)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(v=Date.now(),Na()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function oR(r,t){return new aR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.changes=new zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&_l(s.mutation,l,pn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const l=Ds();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=hl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Ds();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Fi();const d=pl(),g=function(){return pl()}();return n.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Xr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),_l(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),n.forEach((v,A)=>{var I;return g.set(v,new uR(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=pl();let l=new ee((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let A=s.get(p)||pn.empty();A=g.applyToLocalView(v,A),s.set(p,A);const I=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,I=RE();A.forEach(P=>{if(!c.has(P)){const q=VE(n.get(P),s.get(P));q!==null&&I.set(P,q),c=c.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,I))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):F.resolve(Ds());let g=El,p=c;return d.next(v=>F.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?F.resolve():this.remoteDocumentCache.getEntry(t,A).next(P=>{p=p.insert(A,P)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Ot())).next(A=>({batchId:g,changes:wE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next(g=>F.forEach(g,p=>{const v=function(I,P){return new Dl(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((I,P)=>{d=d.insert(I,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=hl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&_l(A.mutation,v,pn.empty(),be.now()),Xc(n,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:tR(l.bundledQuery),readTime:li(l.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.overlays=new ee(ht.comparator),this.Rr=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ds();return F.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.Et(t,n,c)}),F.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),F.resolve()}getOverlaysForCollection(t,n,s){const l=Ds(),c=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return F.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Ds(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ds(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return F.resolve(g)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ow(n,s));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Me(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new ht(new Zt([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ht(new Zt([])),s=new Me(n,t),l=new Me(n,t+1);let c=Ot();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ht.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Dw(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(t,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),c=l<0?0:l;return F.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?rm:this.Fr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),F.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Vt);return n.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),F.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ht(c),0);let g=new we(Vt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),F.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return F.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Me(n,0),l=this.Mr.firstAfterOrEqual(s);return F.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.kr=t,this.docs=function(){return new ee(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Fi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),F.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Fi();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Gb(Hb(A),s)<=0||(l.has(A.key)||Xc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return F.resolve(c)}getAllFromCollectionGroup(t,n,s,l){gt()}qr(t,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new pR(this)}getSize(t){return F.resolve(this.size)}}class pR extends lR{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),F.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.persistence=t,this.Qr=new zs(n=>om(n),lm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gm,this.targetCount=0,this.Ur=Ga.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),F.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.zn(n),F.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),F.waitFor(c).next(()=>l)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return F.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),F.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),F.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),F.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return F.resolve(s)}containsKey(t,n){return F.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Fc(0),this.zr=!1,this.zr=!0,this.jr=new dR,this.referenceDelegate=t(this),this.Hr=new _R(this),this.indexManager=new eR,this.remoteDocumentCache=function(l){return new gR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Jw(n),this.Yr=new hR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new mR(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){nt("MemoryPersistence","Starting transaction:",t);const l=new yR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return F.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class yR extends Kb{constructor(t){super(),this.currentSequenceNumber=t}}class pm{constructor(t){this.persistence=t,this.ti=new gm,this.ni=null}static ri(t){return new pm(t)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),F.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,s=>{const l=ht.fromPath(s);return this.si(t,l).next(c=>{c||n.removeEntry(l,yt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Uc{constructor(t,n){this.persistence=t,this.oi=new zs(s=>Xb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=oR(this,n)}static ri(t,n){return new Uc(t,n)}Zr(){}Xr(t){return F.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return F.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?F.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,n).next(g=>{g||(s++,c.removeEntry(d,yt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=dc(t.data.value)),n}ar(t,n,s){return F.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return F.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Ot(),l=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new _m(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pS()?8:Qb(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.rs(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new vR;return this._s(t,n,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,d,g.size)})}).next(()=>c.result)}us(t,n,s,l){return s.documentReadCount<this.es?(Na()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Na()<=Dt.DEBUG&&nt("QueryEngine","Query:",Va(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Na()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):F.resolve())}rs(t,n){if(Ly(n))return F.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=xd(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ot(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.cs(n,g);return this.ls(n,v,d,p.readTime)?this.rs(t,xd(n,null,"F")):this.hs(t,v,n,p)}))})))}ss(t,n,s,l){return Ly(n)||l.isEqual(yt.min())?F.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(n,c);return this.ls(n,d,s,l)?F.resolve(null):(Na()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(n)),this.hs(t,d,n,jb(l,El)).next(g=>g))})}cs(t,n){let s=new we(SE(t));return n.forEach((l,c)=>{Xc(t,c)&&(s=s.add(c))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,s){return Na()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Va(n)),this.ns.getDocumentsMatchingQuery(t,n,jr.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",TR=3e8;class AR{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ee(Vt),this.Is=new zs(c=>om(c),lm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function SR(r,t,n,s){return new AR(r,t,n,s)}async function KE(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function bR(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const I=v.batch,P=I.keys();let q=F.resolve();return P.forEach(X=>{q=q.next(()=>A.getEntry(p,X)).next(W=>{const K=v.docVersions.get(X);Gt(K!==null),W.version.compareTo(K)<0&&(I.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function QE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function wR(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((A,I)=>{const P=l.get(I);if(!P)return;g.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,I)));let q=P.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),l=l.insert(I,q),function(W,K,st){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=TR?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(P,q,A)&&g.push(n.Hr.updateTargetData(c,q))});let p=Fi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(RR(c,d,t.documentUpdates).next(A=>{p=A.Vs,v=A.fs})),!s.isEqual(yt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return F.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(n.Ts=l,c))}function RR(r,t,n){let s=Ot(),l=Ot();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Fi();return n.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(ym,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function IR(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=rm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function CR(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(c=>c?(l=c,F.resolve(l)):n.Hr.allocateTargetId(s).next(d=>(l=new Pr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Hd(r,t,n){const s=Et(r),l=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Wa(d))throw d;nt(ym,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function $y(r,t,n){const s=Et(r);let l=yt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const I=Et(p),P=I.Is.get(A);return P!==void 0?F.resolve(I.Ts.get(P)):I.Hr.getTargetData(v,A)}(s,d,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,n?l:yt.min(),n?c:Ot())).next(g=>(DR(s,mw(t),g),{documents:g,gs:c})))}function DR(r,t,n){let s=r.Es.get(t)||yt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class Zy{constructor(){this.activeTargetIds=Ew()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OR{constructor(){this.ho=new Zy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Zy,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="ConnectivityMonitor";class Jy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Wy,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(Wy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Gd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RestConnection",VR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${l}`}bo(t,n,s,l,c){const d=Gd(),g=this.So(t,n.toUriEncodedString());nt(Td,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(v=>(nt(Td,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ba(Td,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,n,s,l,c,d){return this.bo(t,n,s,l,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}So(t,n){const s=VR[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class PR extends MR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const c=Gd();return new Promise((d,g)=>{const p=new Wv;p.setWithCredentials(!0),p.listenOnce(Jv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case fc.NO_ERROR:const A=p.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case fc.TIMEOUT:nt(Fe,`RPC '${t}' ${c} timed out`),g(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const I=p.getStatus();if(nt(Fe,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const q=P==null?void 0:P.error;if(q&&q.status&&q.message){const X=function(K){const st=K.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(st)>=0?st:Q.UNKNOWN}(q.status);g(new rt(X,q.message))}else g(new rt(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{nt(Fe,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);nt(Fe,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",v,s,15)})}Wo(t,n,s){const l=Gd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=nE(),g=eE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");nt(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);let P=!1,q=!1;const X=new UR({Fo:K=>{q?nt(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(P||(nt(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),P=!0),nt(Fe,`RPC '${t}' stream ${l} sending:`,K),I.send(K))},Mo:()=>I.close()}),W=(K,st,ut)=>{K.listen(st,ft=>{try{ut(ft)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return W(I,cl.EventType.OPEN,()=>{q||(nt(Fe,`RPC '${t}' stream ${l} transport opened.`),X.Qo())}),W(I,cl.EventType.CLOSE,()=>{q||(q=!0,nt(Fe,`RPC '${t}' stream ${l} transport closed`),X.Ko())}),W(I,cl.EventType.ERROR,K=>{q||(q=!0,Ba(Fe,`RPC '${t}' stream ${l} transport errored:`,K),X.Ko(new rt(Q.UNAVAILABLE,"The operation could not be completed")))}),W(I,cl.EventType.MESSAGE,K=>{var st;if(!q){const ut=K.data[0];Gt(!!ut);const ft=ut,Lt=(ft==null?void 0:ft.error)||((st=ft[0])===null||st===void 0?void 0:st.error);if(Lt){nt(Fe,`RPC '${t}' stream ${l} received error:`,Lt);const pt=Lt.status;let Ct=function(S){const C=ge[S];if(C!==void 0)return UE(C)}(pt),M=Lt.message;Ct===void 0&&(Ct=Q.INTERNAL,M="Unknown error status: "+pt+" with message "+Lt.message),q=!0,X.Ko(new rt(Ct,M)),I.close()}else nt(Fe,`RPC '${t}' stream ${l} received:`,ut),X.Uo(ut)}}),W(g,tE.STAT_EVENT,K=>{K.stat===Vd.PROXY?nt(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Vd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r){return new zw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="PersistentStream";class XE{constructor(t,n,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YE(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new rt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(tv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(nt(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kR extends XE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=jw(this.serializer,t),s=function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?li(d.readTime):yt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=jd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=kd(p)?{documents:Fw(c,p)}:{query:Kw(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=LE(c,d.resumeToken);const v=zd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Mc(c,d.snapshotVersion.toTimestamp());const v=zd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Yw(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=jd(this.serializer),n.removeTarget=t,this.I_(n)}}class LR extends XE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=Gw(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=jd(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Hw(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{}class zR extends xR{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(t,Bd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Q.UNKNOWN,c.toString())})}Co(t,n,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Bd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Q.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(n),this.N_=!1):nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class qR{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Bs(this)&&(nt(Ls,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await Vl(v),v.j_.set("Unknown"),v.W_.delete(4),await th(v)}(this))})}),this.j_=new BR(s,l)}}async function th(r){if(Bs(r))for(const t of r.G_)await t(!0)}async function Vl(r){for(const t of r.G_)await t(!1)}function $E(r,t){const n=Et(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Am(n)?Tm(n):Ja(n).c_()&&Em(n,t))}function vm(r,t){const n=Et(r),s=Ja(n);n.U_.delete(t),s.c_()&&ZE(n,t),n.U_.size===0&&(s.c_()?s.P_():Bs(n)&&n.j_.set("Unknown"))}function Em(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(r).y_(t)}function ZE(r,t){r.H_.Ne(t),Ja(r).w_(t)}function Tm(r){r.H_=new Pw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Ja(r).start(),r.j_.B_()}function Am(r){return Bs(r)&&!Ja(r).u_()&&r.U_.size>0}function Bs(r){return Et(r).W_.size===0}function WE(r){r.H_=void 0}async function jR(r){r.j_.set("Online")}async function HR(r){r.U_.forEach((t,n)=>{Em(r,t)})}async function GR(r,t){WE(r),Am(r)?(r.j_.q_(t),Tm(r)):r.j_.set("Unknown")}async function FR(r,t,n){if(r.j_.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){nt(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pc(r,s)}else if(t instanceof pc?r.H_.We(t):t instanceof PE?r.H_.Ze(t):r.H_.je(t),!n.isEqual(yt.min()))try{const s=await QE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.U_.get(v);A&&c.U_.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.U_.get(p);if(!A)return;c.U_.set(p,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),ZE(c,p);const I=new Pr(A.target,p,v,A.sequenceNumber);Em(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){nt(Ls,"Failed to raise snapshot:",s),await Pc(r,s)}}async function Pc(r,t,n){if(!Wa(t))throw t;r.W_.add(1),await Vl(r),r.j_.set("Offline"),n||(n=()=>QE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(Ls,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await th(r)})}function JE(r,t){return t().catch(n=>Pc(r,n,t))}async function eh(r){const t=Et(r),n=Kr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:rm;for(;KR(t);)try{const l=await IR(t.localStore,s);if(l===null){t.K_.length===0&&n.P_();break}s=l.batchId,QR(t,l)}catch(l){await Pc(t,l)}t0(t)&&e0(t)}function KR(r){return Bs(r)&&r.K_.length<10}function QR(r,t){r.K_.push(t);const n=Kr(r);n.c_()&&n.b_&&n.S_(t.mutations)}function t0(r){return Bs(r)&&!Kr(r).u_()&&r.K_.length>0}function e0(r){Kr(r).start()}async function YR(r){Kr(r).C_()}async function XR(r){const t=Kr(r);for(const n of r.K_)t.S_(n.mutations)}async function $R(r,t,n){const s=r.K_.shift(),l=fm.from(s,t,n);await JE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await eh(r)}async function ZR(r,t){t&&Kr(r).b_&&await async function(s,l){if(function(d){return Vw(d)&&d!==Q.ABORTED}(l.code)){const c=s.K_.shift();Kr(s).h_(),await JE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await eh(s)}}(r,t),t0(r)&&e0(r)}async function ev(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),nt(Ls,"RemoteStore received new credentials");const s=Bs(n);n.W_.add(3),await Vl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await th(n)}async function WR(r,t){const n=Et(r);t?(n.W_.delete(2),await th(n)):t||(n.W_.add(2),await Vl(n),n.j_.set("Unknown"))}function Ja(r){return r.J_||(r.J_=function(n,s,l){const c=Et(n);return c.M_(),new kR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:jR.bind(null,r),No:HR.bind(null,r),Lo:GR.bind(null,r),p_:FR.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Am(r)?Tm(r):r.j_.set("Unknown")):(await r.J_.stop(),WE(r))})),r.J_}function Kr(r){return r.Y_||(r.Y_=function(n,s,l){const c=Et(n);return c.M_(),new LR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:YR.bind(null,r),Lo:ZR.bind(null,r),D_:XR.bind(null,r),v_:$R.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await eh(r)):(await r.Y_.stop(),r.K_.length>0&&(nt(Ls,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Sm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),Wa(r))return new rt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Pa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Z_=new ee(ht.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):gt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Fa{constructor(t,n,s,l,c,d,g,p,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Fa(t,n,Pa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class t1{constructor(){this.queries=iv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Et(n),c=l.queries;l.queries=iv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function iv(){return new zs(r=>AE(r),Yc)}async function e1(r,t){const n=Et(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new JR,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=bm(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&wm(n)}async function n1(r,t){const n=Et(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function i1(r,t){const n=Et(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&wm(n)}function r1(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(n);s.queries.delete(t)}function wm(r){r.ia.forEach(t=>{t.next()})}var Fd,rv;(rv=Fd||(Fd={}))._a="default",rv.Cache="cache";class s1{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Fa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this.key=t}}class i0{constructor(t){this.key=t}}class a1{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=SE(t),this.wa=new Pa(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new nv,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const P=l.get(A),q=Xc(this.query,I)?I:null,X=!!P&&this.mutatedKeys.has(P.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;P&&q?P.data.isEqual(q.data)?X!==W&&(s.track({type:3,doc:q}),K=!0):this.va(P,q)||(s.track({type:2,doc:q}),K=!0,(p&&this.ya(q,p)>0||v&&this.ya(q,v)<0)&&(g=!0)):!P&&q?(s.track({type:0,doc:q}),K=!0):P&&!q&&(s.track({type:1,doc:P}),K=!0,(p||v)&&(g=!0)),K&&(q?(d=d.add(q),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,I)=>function(q,X){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return W(q)-W(X)}(A.type,I.type)||this.ya(A.doc,I.doc)),this.Ca(s),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new Fa(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new i0(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new n0(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rm="SyncEngine";class o1{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class l1{constructor(t){this.key=t,this.Ba=!1}}class u1{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new zs(g=>AE(g),Yc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ht.comparator),this.Ka=new Map,this.Ua=new gm,this.Wa={},this.Ga=new Map,this.za=Ga.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function c1(r,t,n=!0){const s=u0(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await r0(s,t,n,!0),l}async function h1(r,t){const n=u0(r);await r0(n,t,!0,!1)}async function r0(r,t,n,s){const l=await CR(r.localStore,oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await f1(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&$E(r.remoteStore,l),g}async function f1(r,t,n,s,l){r.Ha=(I,P,q)=>async function(W,K,st,ut){let ft=K.view.Sa(st);ft.ls&&(ft=await $y(W.localStore,K.query,!1).then(({documents:M})=>K.view.Sa(M,ft)));const Lt=ut&&ut.targetChanges.get(K.targetId),pt=ut&&ut.targetMismatches.get(K.targetId)!=null,Ct=K.view.applyChanges(ft,W.isPrimaryClient,Lt,pt);return av(W,K.targetId,Ct.Ma),Ct.snapshot}(r,I,P,q);const c=await $y(r.localStore,t,!0),d=new a1(t,c.gs),g=d.Sa(c.documents),p=Nl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);av(r,n,v.Ma);const A=new o1(t,n,d);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),v.snapshot}async function d1(r,t,n){const s=Et(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Yc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Hd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&vm(s.remoteStore,l.targetId),Kd(s,l.targetId)}).catch(Za)):(Kd(s,l.targetId),await Hd(s.localStore,l.targetId,!0))}async function m1(r,t){const n=Et(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vm(n.remoteStore,s.targetId))}async function g1(r,t,n){const s=A1(r);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((q,X)=>q.add(X.key),Ot());let I,P;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let X=Fi(),W=Ot();return p.ds.getEntries(q,A).next(K=>{X=K,X.forEach((st,ut)=>{ut.isValidDocument()||(W=W.add(st))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,X)).next(K=>{I=K;const st=[];for(const ut of g){const ft=Iw(ut,I.get(ut.key).overlayedDocument);ft!=null&&st.push(new Xr(ut.key,ft,mE(ft.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,v,st,g)}).next(K=>{P=K;const st=K.applyToLocalDocumentSet(I,W);return p.documentOverlayCache.saveOverlays(q,K.batchId,st)})}).then(()=>({batchId:P.batchId,changes:wE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(Vt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(s,l.batchId,n),await Ml(s,l.changes),await eh(s.remoteStore)}catch(l){const c=bm(l,"Failed to persist write");n.reject(c)}}async function s0(r,t){const n=Et(r);try{const s=await wR(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Ka.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Gt(d.Ba):l.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await Ml(n,s,t)}catch(s){await Za(s)}}function sv(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,I)=>{for(const P of I.ta)P.sa(g)&&(v=!0)}),v&&wm(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function p1(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ka.get(t),c=l&&l.key;if(c){let d=new ee(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,yt.min()));const g=Ot().add(c),p=new Wc(yt.min(),new Map,new ee(Vt),d,g);await s0(s,p),s.$a=s.$a.remove(c),s.Ka.delete(t),Im(s)}else await Hd(s.localStore,t,!1).then(()=>Kd(s,t,n)).catch(Za)}async function _1(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await bR(n.localStore,t);o0(n,s,null),a0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ml(n,l)}catch(l){await Za(l)}}async function y1(r,t,n){const s=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(I=>(Gt(I!==null),A=I.keys(),p.mutationQueue.removeMutationBatch(v,I))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,t);o0(s,t,n),a0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ml(s,l)}catch(l){await Za(l)}}function a0(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function o0(r,t,n){const s=Et(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function Kd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||l0(r,s)})}function l0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(vm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Im(r))}function av(r,t,n){for(const s of n)s instanceof n0?(r.Ua.addReference(s.key,t),v1(r,s)):s instanceof i0?(nt(Rm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||l0(r,s.key)):gt()}function v1(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(nt(Rm,"New document in limbo: "+n),r.Qa.add(s),Im(r))}function Im(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ht(Zt.fromString(t)),s=r.za.next();r.Ka.set(s,new l1(n)),r.$a=r.$a.insert(n,s),$E(r.remoteStore,new Pr(oi(um(n.path)),s,"TargetPurposeLimboResolution",Fc.ae))}}async function Ml(r,t,n){const s=Et(r),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,n).then(v=>{var A;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(v){l.push(v);const I=_m.Yi(p.targetId,v);c.push(I)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>F.forEach(v,P=>F.forEach(P.Hi,q=>A.persistence.referenceDelegate.addReference(I,P.targetId,q)).next(()=>F.forEach(P.Ji,q=>A.persistence.referenceDelegate.removeReference(I,P.targetId,q)))))}catch(I){if(!Wa(I))throw I;nt(ym,"Failed to update sequence numbers: "+I)}for(const I of v){const P=I.targetId;if(!I.fromCache){const q=A.Ts.get(P),X=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(X);A.Ts=A.Ts.insert(P,W)}}}(s.localStore,c))}async function E1(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){nt(Rm,"User change. New user:",t.toKey());const s=await KE(n.localStore,t);n.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new rt(Q.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ml(n,s.Rs)}}function T1(r,t){const n=Et(r),s=n.Ka.get(t);if(s&&s.Ba)return Ot().add(s.key);{let l=Ot();const c=n.qa.get(t);if(!c)return l;for(const d of c){const g=n.ka.get(d);l=l.unionWith(g.view.ba)}return l}}function u0(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=s0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=T1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=p1.bind(null,t),t.La.p_=i1.bind(null,t.eventManager),t.La.Ja=r1.bind(null,t.eventManager),t}function A1(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=y1.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return SR(this.persistence,new ER,t.initialUser,this.serializer)}Xa(t){return new FE(pm.ri,this.serializer)}Za(t){return new OR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class S1 extends kc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof Uc);const s=this.persistence.referenceDelegate.garbageCollector;return new sR(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new FE(s=>Uc.ri(s,n),this.serializer)}}class Qd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E1.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new t1}()}createDatastore(t){const n=Jc(t.databaseInfo.databaseId),s=function(c){return new PR(c)}(t.databaseInfo);return function(c,d,g,p){return new zR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new qR(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>sv(this.syncEngine,n,0),function(){return Jy.D()?new Jy:new NR}())}createSyncEngine(t,n){return function(l,c,d,g,p,v,A){const I=new u1(l,c,d,g,p,v);return A&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Et(l);nt(Ls,"RemoteStore shutting down."),c.W_.add(5),await Vl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qd.provider={build:()=>new Qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class w1{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=rE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{nt(Qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=bm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Sd(r,t){r.asyncQueue.verifyOperationInProgress(),nt(Qr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await KE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function ov(r,t){r.asyncQueue.verifyOperationInProgress();const n=await R1(r);nt(Qr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>ev(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>ev(t.remoteStore,l)),r._onlineComponents=t}async function R1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Qr,"Using user provided OfflineComponentProvider");try{await Sd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Sd(r,new kc)}}else nt(Qr,"Using default OfflineComponentProvider"),await Sd(r,new S1(void 0));return r._offlineComponents}async function c0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Qr,"Using user provided OnlineComponentProvider"),await ov(r,r._uninitializedComponentsProvider._online)):(nt(Qr,"Using default OnlineComponentProvider"),await ov(r,new Qd))),r._onlineComponents}function I1(r){return c0(r).then(t=>t.syncEngine)}async function lv(r){const t=await c0(r),n=t.eventManager;return n.onListen=c1.bind(null,t.syncEngine),n.onUnlisten=d1.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=h1.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=m1.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function C1(r,t,n,s){if(t===!0&&s===!0)throw new rt(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cv(r){if(!ht.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hv(r){if(ht.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt()}function Br(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(r);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firestore.googleapis.com",fv=!0;class dv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d0,this.ssl=fv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:fv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iR)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ih{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ub;switch(s.type){case"firstParty":return new xb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=uv.get(n);s&&(nt("ComponentProvider","Removing Datastore"),uv.delete(n),s.terminate())}(this),Promise.resolve()}}function D1(r,t,n,s={}){var l;const c=(r=Br(r,ih))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==d0&&c.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Us(p,d)&&(r._setSettings(p),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ke.MOCK_USER;else{v=uS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(I)}r._authCredentials=new Pb(new iE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new to(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class qr extends to{constructor(t,n,s){super(t,n,um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new ht(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function mv(r,t,...n){if(r=Ue(r),f0("collection","path",t),r instanceof ih){const s=Zt.fromString(t,...n);return hv(s),new qr(r,null,s)}{if(!(r instanceof ln||r instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return hv(s),new qr(r.firestore,null,s)}}function Yd(r,t,...n){if(r=Ue(r),arguments.length===1&&(t=rE.newId()),f0("doc","path",t),r instanceof ih){const s=Zt.fromString(t,...n);return cv(s),new ln(r,null,new ht(s))}{if(!(r instanceof ln||r instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return cv(s),new ln(r.firestore,r instanceof qr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class pv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YE(this,"async_queue_retry"),this.bu=()=>{const s=Ad();s&&nt(gv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Ad();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Ad();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Wa(t))throw t;nt(gv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Gi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Sm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function _v(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ka extends ih{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new pv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pv(t),this._firestoreClient=void 0,await t}}}function O1(r,t){const n=typeof r=="object"?r:Yv(),s=typeof r=="string"?r:Ic,l=nm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=oS("firestore");c&&D1(l,...c)}return l}function m0(r){if(r._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||N1(r),r._firestoreClient}function N1(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,v,A){return new Wb(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,h0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new w1(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(qe.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=/^__.*__$/;class M1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(t,this.data,n,this.fieldTransforms)}}class g0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Xr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function p0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Nm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Nm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Lc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(p0(this.Lu)&&V1.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class U1{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Jc(t)}ju(t,n,s,l=!1){return new Nm({Lu:t,methodName:n,zu:s,path:Be.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(r){const t=r._freezeSettings(),n=Jc(r._databaseId);return new U1(r._databaseId,!!t.ignoreUndefinedProperties,n)}function P1(r,t,n,s,l,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,n,l);Mm("Data must be an object, but it was:",d,s);const g=_0(s,d);let p,v;if(c.merge)p=new pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const P=Xd(t,I,n);if(!d.contains(P))throw new rt(Q.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);v0(A,P)||A.push(P)}p=new pn(A),v=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,v=d.fieldTransforms;return new M1(new on(g),p,v)}class sh extends Cm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sh}}function k1(r,t,n,s){const l=r.ju(1,t,n);Mm("Data must be an object, but it was:",l,s);const c=[],d=on.empty();Yr(s,(p,v)=>{const A=Um(t,p,n);v=Ue(v);const I=l.Ku(A);if(v instanceof sh)c.push(A);else{const P=Ul(v,I);P!=null&&(c.push(A),d.set(A,P))}});const g=new pn(c);return new g0(d,g,l.fieldTransforms)}function L1(r,t,n,s,l,c){const d=r.ju(1,t,n),g=[Xd(t,s,n)],p=[l];if(c.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)g.push(Xd(t,c[P])),p.push(c[P+1]);const v=[],A=on.empty();for(let P=g.length-1;P>=0;--P)if(!v0(v,g[P])){const q=g[P];let X=p[P];X=Ue(X);const W=d.Ku(q);if(X instanceof sh)v.push(q);else{const K=Ul(X,W);K!=null&&(v.push(q),A.set(q,K))}}const I=new pn(v);return new g0(A,I,d.fieldTransforms)}function x1(r,t,n,s=!1){return Ul(n,r.ju(s?4:3,t))}function Ul(r,t){if(y0(r=Ue(r)))return Mm("Unsupported field value:",t,r),_0(r,t);if(r instanceof Cm)return function(s,l){if(!p0(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=Ul(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Ue(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Tw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Mc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mc(l.serializer,c)}}if(s instanceof Dm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qa)return{bytesValue:LE(l.serializer,s._byteString)};if(s instanceof ln){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Om)return function(d,g){return{mapValue:{fields:{[fE]:{stringValue:dE},[Cc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return cm(g.serializer,v)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${nh(s)}`)}(r,t)}function _0(r,t){const n={};return aE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(r,(s,l)=>{const c=Ul(l,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function y0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Dm||r instanceof Qa||r instanceof ln||r instanceof Cm||r instanceof Om)}function Mm(r,t,n){if(!y0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=nh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function Xd(r,t,n){if((t=Ue(t))instanceof rh)return t._internalPath;if(typeof t=="string")return Um(r,t);throw Lc("Field path arguments must be of type string or ",r,!1,void 0,n)}const z1=new RegExp("[~\\*/\\[\\]]");function Um(r,t,n){if(t.search(z1)>=0)throw Lc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rh(...t.split("."))._internalPath}catch{throw Lc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Lc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new rt(Q.INVALID_ARGUMENT,g+r+p)}function v0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new B1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B1 extends E0{data(){return super.data()}}function Pm(r,t){return typeof t=="string"?Um(r,t):t instanceof rh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class j1 extends km{}function H1(r,t,...n){let s=[];t instanceof km&&s.push(t),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof Lm).length,g=c.filter(p=>p instanceof ah).length;if(d>1||d>0&&g>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class ah extends j1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ah(t,n,s)}_apply(t){const n=this._parse(t);return T0(t._query,n),new to(t.firestore,t.converter,Ld(t._query,n))}_parse(t){const n=Vm(t.firestore);return function(c,d,g,p,v,A,I){let P;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){vv(I,A);const X=[];for(const W of I)X.push(yv(p,c,W));P={arrayValue:{values:X}}}else P=yv(p,c,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||vv(I,A),P=x1(g,d,I,A==="in"||A==="not-in");return pe.create(v,A,P)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function G1(r,t,n){const s=t,l=Pm("where",r);return ah._create(l,s,n)}class Lm extends km{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Lm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)T0(d,p),d=Ld(d,p)}(t._query,n),new to(t.firestore,t.converter,Ld(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yv(r,t,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!ht.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ny(r,new ht(s))}if(n instanceof ln)return Ny(r,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function vv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T0(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class F1{convertValue(t,n="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Yr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Cc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new Om(c)}convertGeoPoint(t){return new Dm(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tl(t));default:return null}}convertTimestamp(t){const n=Hr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);Gt(HE(s));const l=new Al(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class A0 extends E0{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Pm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class _c extends A0{data(t={}){return super.data(t)}}class Q1{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new _c(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new _c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new _c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Y1(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class S0 extends F1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function X1(r,t,n,...s){r=Br(r,ln);const l=Br(r.firestore,Ka),c=Vm(l);let d;return d=typeof(t=Ue(t))=="string"||t instanceof rh?L1(c,"updateDoc",r._key,t,n,s):k1(c,"updateDoc",r._key,t),xm(l,[d.toMutation(r._key,qn.exists(!0))])}function $1(r){return xm(Br(r.firestore,Ka),[new hm(r._key,qn.none())])}function Z1(r,t){const n=Br(r.firestore,Ka),s=Yd(r),l=K1(r.converter,t);return xm(n,[P1(Vm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function W1(r,...t){var n,s,l;r=Ue(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||_v(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(_v(t[d])){const I=t[d];t[d]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[d+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[d+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,v,A;if(r instanceof ln)v=Br(r.firestore,Ka),A=um(r._key.path),p={next:I=>{t[d]&&t[d](J1(v,r,I))},error:t[d+1],complete:t[d+2]};else{const I=Br(r,to);v=Br(I.firestore,Ka),A=I._query;const P=new S0(v);p={next:q=>{t[d]&&t[d](new Q1(v,P,I,q))},error:t[d+1],complete:t[d+2]},q1(r._query)}return function(P,q,X,W){const K=new b1(W),st=new s1(q,K,X);return P.asyncQueue.enqueueAndForget(async()=>e1(await lv(P),st)),()=>{K.su(),P.asyncQueue.enqueueAndForget(async()=>n1(await lv(P),st))}}(m0(v),A,g,p)}function xm(r,t){return function(s,l){const c=new Vs;return s.asyncQueue.enqueueAndForget(async()=>g1(await I1(s),l,c)),c.promise}(m0(r),t)}function J1(r,t,n){const s=n.docs.get(t._key),l=new S0(r);return new A0(r,l,t._key,s,new dl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){$a=l})(Xa),za(new Ps("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ka(new kb(s.getProvider("auth-internal")),new zb(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),xr(Ey,Ty,t),xr(Ey,Ty,"esm2017")})();function zm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=b0,w0=new Il("auth","Firebase",b0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new tm("@firebase/auth");function eI(r,...t){xc.logLevel<=Dt.WARN&&xc.warn(`Auth (${Xa}): ${r}`,...t)}function yc(r,...t){xc.logLevel<=Dt.ERROR&&xc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...t){throw qm(r,...t)}function jn(r,...t){return qm(r,...t)}function Bm(r,t,n){const s=Object.assign(Object.assign({},tI()),{[t]:n});return new Il("auth","Firebase",s).create(t,{appName:r.name})}function Ms(r){return Bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nI(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&hi(r,"argument-error"),Bm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return w0.create(r,...t)}function _t(r,t,...n){if(!r)throw qm(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw yc(t),new Error(t)}function Ki(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iI(){return Ev()==="http:"||Ev()==="https:"}function Ev(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||dS()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new Pl(3e4,6e4);function Hm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function eo(r,t,n,s,l={}){return I0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Cl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return fS()||(v.referrerPolicy="no-referrer"),R0.fetch()(C0(r,r.config.apiHost,n,g),v)})}async function I0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},aI),t);try{const l=new uI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw cc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw cc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Bm(r,A,v);hi(r,A)}}catch(l){if(l instanceof Qi)throw l;hi(r,"network-request-failed",{message:String(l)})}}async function lI(r,t,n,s,l={}){const c=await eo(r,t,n,s,l);return"mfaPendingCredential"in c&&hi(r,"multi-factor-auth-required",{_serverResponse:c}),c}function C0(r,t,n,s){const l=`${t}${n}?${s}`;return r.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`}class uI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),oI.get())})}}function cc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=jn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,t){return eo(r,"POST","/v1/accounts:delete",t)}async function D0(r,t){return eo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hI(r,t=!1){const n=Ue(r),s=await n.getIdToken(t),l=Gm(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:yl(bd(l.auth_time)),issuedAtTime:yl(bd(l.iat)),expirationTime:yl(bd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function bd(r){return Number(r)*1e3}function Gm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=qv(n);return l?JSON.parse(l):(yc("Failed to decode base64 JWT payload"),null)}catch(l){return yc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Tv(r){const t=Gm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Qi&&fI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function fI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Rl(r,D0(n,{idToken:s}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?O0(c.providerUserInfo):[],g=gI(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Zd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function mI(r){const t=Ue(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function O0(r){return r.map(t=>{var{providerId:n}=t,s=zm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,t){const n=await I0(r,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=C0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",R0.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _I(r,t){return eo(r,"POST","/v2/accounts:revokeToken",Hm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await pI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new ka;return s&&(_t(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=zm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Zd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hI(this,t)}reload(){return mI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Rl(this,cI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,v,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,P=(l=n.email)!==null&&l!==void 0?l:void 0,q=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,X=(d=n.photoURL)!==null&&d!==void 0?d:void 0,W=(g=n.tenantId)!==null&&g!==void 0?g:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,st=(v=n.createdAt)!==null&&v!==void 0?v:void 0,ut=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ft,emailVerified:Lt,isAnonymous:pt,providerData:Ct,stsTokenManager:M}=n;_t(ft&&M,t,"internal-error");const w=ka.fromJSON(this.name,M);_t(typeof ft=="string",t,"internal-error"),Nr(I,t.name),Nr(P,t.name),_t(typeof Lt=="boolean",t,"internal-error"),_t(typeof pt=="boolean",t,"internal-error"),Nr(q,t.name),Nr(X,t.name),Nr(W,t.name),Nr(K,t.name),Nr(st,t.name),Nr(ut,t.name);const S=new qi({uid:ft,auth:t,email:P,emailVerified:Lt,displayName:I,isAnonymous:pt,photoURL:X,phoneNumber:q,tenantId:W,stsTokenManager:w,createdAt:st,lastLoginAt:ut});return Ct&&Array.isArray(Ct)&&(S.providerData=Ct.map(C=>Object.assign({},C))),K&&(S._redirectEventId=K),S}static async _fromIdTokenResponse(t,n,s=!1){const l=new ka;l.updateFromServerResponse(n);const c=new qi({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await zc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?O0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new ka;g.updateFromIdToken(s);const p=new qi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function ji(r){Ki(r instanceof Function,"Expected a class definition");let t=Av.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Av.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}N0.type="NONE";const Sv=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=vc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(ji(Sv),t,s);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ji(Sv);const d=vc(s,t.config.apiKey,t.name);let g=null;for(const v of n)try{const A=await v._get(d);if(A){const I=qi._fromJSON(t,A);v!==c&&(g=I),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(L0(t))return"Blackberry";if(x0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(k0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V0(r=Ye()){return/firefox\//i.test(r)}function M0(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=Ye()){return/crios\//i.test(r)}function P0(r=Ye()){return/iemobile/i.test(r)}function k0(r=Ye()){return/android/i.test(r)}function L0(r=Ye()){return/blackberry/i.test(r)}function x0(r=Ye()){return/webos/i.test(r)}function Fm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yI(r=Ye()){var t;return Fm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vI(){return gS()&&document.documentMode===10}function z0(r=Ye()){return Fm(r)||k0(r)||x0(r)||L0(r)||/windows phone/i.test(r)||P0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r,t=[]){let n;switch(r){case"Browser":n=bv(Ye());break;case"Worker":n=`${bv(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,t={}){return eo(r,"GET","/v2/passwordPolicy",Hm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=6;class SI{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:AI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await D0(this,{idToken:t}),s=await qi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Ms(this));const n=t?Ue(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TI(this),n=new SI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Il("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _I(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&eI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oh(r){return Ue(r)}class wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=SS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wI(r){Km=r}function RI(r){return Km.loadJS(r)}function II(){return Km.gapiScript}function CI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r,t){const n=nm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Us(c,t??{}))return l;hi(l,"already-initialized")}return n.initialize({options:t})}function OI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function NI(r,t,n){const s=oh(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=q0(t),{host:d,port:g}=VI(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Us(v,s.config.emulator)&&Us(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,MI()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function VI(r){const t=q0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Rv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Rv(d)}}}function Rv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function MI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r,t){return lI(r,"POST","/v1/accounts:signInWithIdp",Hm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="http://localhost";class xs extends j0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=zm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new xs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return xa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xa(t,n)}buildRequest(){const t={requestUri:UI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends kl{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends kl{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends kl{constructor(){super("twitter.com")}static credential(t,n){return xs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await qi._fromIdTokenResponse(t,s,l),d=Iv(s);return new Ya({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Iv(s);return new Ya({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Qi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Bc(t,n,s,l)}}function H0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,c,t,s):c})}async function PI(r,t,n=!1){const s=await Rl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(Ms(s));const l="reauthenticate";try{const c=await Rl(r,H0(s,l,t,r),n);_t(c.idToken,s,"internal-error");const d=Gm(c.idToken);_t(d,s,"internal-error");const{sub:g}=d;return _t(r.uid===g,s,"user-mismatch"),Ya._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s="signIn",l=await H0(r,s,t),c=await Ya._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function xI(r,t,n,s){return Ue(r).onIdTokenChanged(t,n,s)}function zI(r,t,n){return Ue(r).beforeAuthStateChanged(t,n)}function BI(r,t,n,s){return Ue(r).onAuthStateChanged(t,n,s)}function qI(r){return Ue(r).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,HI=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);vI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,HI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}F0.type="LOCAL";const GI=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}K0.type="SESSION";const Q0=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(n.origin,c)),p=await FI(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=Ym("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const P=I;if(P.data.eventId===v)switch(P.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(P.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function QI(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function YI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function $I(){return Y0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="firebaseLocalStorageDb",ZI=1,jc="firebaseLocalStorage",$0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(r,t){return r.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function WI(){const r=indexedDB.deleteDatabase(X0);return new Ll(r).toPromise()}function Wd(){const r=indexedDB.open(X0,ZI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jc,{keyPath:$0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jc)?t(s):(s.close(),await WI(),t(await Wd()))})})}async function Cv(r,t,n){const s=uh(r,!0).put({[$0]:t,value:n});return new Ll(s).toPromise()}async function JI(r,t){const n=uh(r,!1).get(t),s=await new Ll(n).toPromise();return s===void 0?null:s.value}function Dv(r,t){const n=uh(r,!0).delete(t);return new Ll(n).toPromise()}const tC=800,eC=3;class Z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>eC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance($I()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await Cv(t,qc,"1"),await Dv(t,qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>JI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z0.type="LOCAL";const nC=Z0;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r,t){return t?ji(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends j0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iC(r){return LI(r.auth,new Xm(r),r.bypassAuthState)}function rC(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),kI(n,new Xm(r),r.bypassAuthState)}async function sC(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),PI(n,new Xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return sC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:hi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Pl(2e3,1e4);async function oC(r,t,n){if(Bn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=oh(r);nI(r,t,Qm);const l=W0(s,n);return new Os(s,"signInViaPopup",t,l).executeNotNull()}class Os extends J0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aC.get())};t()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="pendingRedirect",Ec=new Map;class uC extends J0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ec.get(this.auth._key());if(!t){try{const s=await cC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ec.set(this.auth._key(),t)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(r,t){const n=dC(t),s=fC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function hC(r,t){Ec.set(r._key(),t)}function fC(r){return ji(r._redirectPersistence)}function dC(r){return vc(lC,r.config.apiKey,r.name)}async function mC(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s=oh(r),l=W0(s,t),d=await new uC(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=10*60*1e3;class pC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_C(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!tT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(t))}saveEventToCache(t){this.cachedEventUids.add(Ov(t)),this.lastProcessedEventTime=Date.now()}}function Ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function tT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _C(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,t={}){return eo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EC=/^https?/;async function TC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yC(r);for(const n of t)try{if(AC(n))return}catch{}hi(r,"unauthorized-domain")}function AC(r){const t=$d(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!EC.test(n))return!1;if(vC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Pl(3e4,6e4);function Nv(){const r=ui().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function bC(r){return new Promise((t,n)=>{var s,l,c;function d(){Nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nv(),n(jn(r,"network-request-failed"))},timeout:SC.get()})}if(!((l=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)d();else{const g=CI("iframefcb");return ui()[g]=()=>{gapi.load?d():n(jn(r,"network-request-failed"))},RI(`${II()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Tc=null,t})}let Tc=null;function wC(r){return Tc=Tc||bC(r),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Pl(5e3,15e3),IC="__/auth/iframe",CC="emulator/auth/iframe",DC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?jm(t,CC):`https://${r.config.authDomain}/${IC}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=OC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Cl(s).slice(1)}`}async function VC(r){const t=await wC(r),n=ui().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:NC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=jn(r,"network-request-failed"),g=ui().setTimeout(()=>{c(d)},RC.get());function p(){ui().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,PC=600,kC="_blank",LC="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(r,t,n,s=UC,l=PC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},MC),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Ye().toLowerCase();n&&(g=U0(v)?kC:n),V0(v)&&(t=t||LC,p.scrollbars="yes");const A=Object.entries(p).reduce((P,[q,X])=>`${P}${q}=${X},`,"");if(yI(v)&&g!=="_self")return zC(t||"",g),new Vv(null);const I=window.open(t||"",g,A);_t(I,r,"popup-blocked");try{I.focus()}catch{}return new Vv(I)}function zC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__/auth/handler",qC="emulator/auth/handler",jC=encodeURIComponent("fac");async function Mv(r,t,n,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof Qm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",AS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof kl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${jC}=${encodeURIComponent(p)}`:"";return`${HC(r)}?${Cl(g).slice(1)}${v}`}function HC({config:r}){return r.emulator?jm(r,qC):`https://${r.authDomain}/${BC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="webStorageSupport";class GC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q0,this._completeRedirectFn=mC,this._overrideRedirectResult=hC}async _openPopup(t,n,s,l){var c;Ki((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Mv(t,n,s,$d(),l);return xC(t,d,Ym())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Mv(t,n,s,$d(),l);return QI(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VC(t),s=new pC(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wd,{type:wd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[wd];d!==void 0&&n(!!d),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return z0()||M0()||Fm()}}const FC=GC;var Uv="@firebase/auth",Pv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YC(r){za(new Ps("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},v=new bI(s,l,c,p);return OI(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),za(new Ps("auth-internal",t=>{const n=oh(t.getProvider("auth").getImmediate());return(s=>new KC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Uv,Pv,QC(r)),xr(Uv,Pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=5*60,$C=Gv("authIdTokenMaxAge")||XC;let kv=null;const ZC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$C)return;const l=n==null?void 0:n.token;kv!==l&&(kv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function WC(r=Yv()){const t=nm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=DI(r,{popupRedirectResolver:FC,persistence:[nC,GI,Q0]}),s=Gv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=ZC(c.toString());zI(n,d,()=>d(n.currentUser)),xI(n,g=>d(g))}}const l=jv("auth");return l&&NI(n,`http://${l}`),n}function JC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}wI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=jn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",JC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YC("Browser");var tD="firebase",eD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(tD,eD,"app");const nD={apiKey:"AIzaSyCyt5S9FcdgKhE4MGfwa1zXSVafQopIlkg",authDomain:"techfest-notesfirebase.firebaseapp.com",projectId:"techfest-notesfirebase",storageBucket:"techfest-notesfirebase.firebasestorage.app",messagingSenderId:"1035434404870",appId:"1:1035434404870:web:8f586e6bb7d2b436e8e787",measurementId:"G-WRFFKFQHMS"},eT=Qv(nD),hc=O1(eT),Rd=WC(eT),iD=()=>{const[r,t]=en.useState([]),[n,s]=en.useState(""),[l,c]=en.useState([]),[d,g]=en.useState(!1),[p,v]=en.useState(null);en.useEffect(()=>{const K=BI(Rd,st=>{v(st),st&&A(st.uid)});return()=>K()},[]);const A=en.useCallback(K=>{const st=mv(hc,"notes"),ut=H1(st,G1("userID","==",K));return W1(ut,ft=>{const Lt=ft.docs.map(pt=>({...pt.data(),id:pt.id}));t(Lt),c(Lt)})},[]);en.useEffect(()=>{const K=r.filter(st=>st.title.toLowerCase().includes(n.toLowerCase()));c(K)},[n,r]);const I=async()=>{try{const K=new zi;await oC(Rd,K)}catch(K){console.error("Google sign-in failed:",K)}},P=async({title:K,content:st})=>{if(!K||!st)return;const ut=mv(hc,"notes");try{await Z1(ut,{userID:p.uid,title:K,content:st,createdTime:new Date().toISOString()})}catch(ft){console.error("Error adding note:",ft)}},q=async K=>{try{const st=Yd(hc,"notes",K);await $1(st)}catch(st){console.error("Error deleting note:",st)}},X=async(K,st,ut)=>{try{const ft=Yd(hc,"notes",K);await X1(ft,{title:st,content:ut})}catch(ft){console.error("Error updating note:",ft)}},W=async()=>{try{await qI(Rd)}catch(K){console.error("Error signing out:",K)}};return p?Tt.jsx("div",{className:d?"dark-mode":"",children:Tt.jsxs("div",{className:"container",children:[Tt.jsxs("div",{className:"flex justify-between",children:[Tt.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",p.displayName]}),Tt.jsx("button",{onClick:W,children:"Log Out"})]}),Tt.jsx(WA,{handleToggleDarkMode:g}),Tt.jsx(ZA,{handleSearchNote:s}),Tt.jsx($A,{notes:l,handleAddNote:P,handleDeleteNote:q,handleUpdateNote:X})]})}):Tt.jsx("div",{className:"p-8 text-center",children:Tt.jsx("button",{onClick:I,children:"Sign In with Google"})})};kA.createRoot(document.getElementById("root")).render(Tt.jsx(en.StrictMode,{children:Tt.jsx(iD,{})}));
